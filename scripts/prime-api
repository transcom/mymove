#! /usr/bin/env bash

#
# A script to connect to endpoints on the PRIME API.
#
# This uses the specially created devlocal-mtls cert and key that were generated from the devlocal-ca.
#
# Example:
#
#   prime-api move-task-orders GET
#

set -eu -o pipefail

HOSTNAME=primelocal

readonly endpoint=$1
readonly METHOD=${2:-GET}
curl -k --cert ./config/tls/devlocal-mtls.cer --key ./config/tls/devlocal-mtls.key -X "${METHOD}" "https://${HOSTNAME}:9443/prime/v1/${endpoint}"