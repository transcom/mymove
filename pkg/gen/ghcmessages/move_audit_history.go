// Code generated by go-swagger; DO NOT EDIT.

package ghcmessages

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"context"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
	"github.com/go-openapi/validate"
)

// MoveAuditHistory move audit history
//
// swagger:model MoveAuditHistory
type MoveAuditHistory struct {

	// Action type; I = insert, D = delete, U = update, T = truncate
	Action string `json:"action,omitempty"`

	// Wall clock time at which audited event's trigger call occurred
	// Format: date-time
	ActionTstampClk strfmt.DateTime `json:"actionTstampClk,omitempty"`

	// Statement start timestamp for tx in which audited event occurred
	// Format: date-time
	ActionTstampStm strfmt.DateTime `json:"actionTstampStm,omitempty"`

	// Transaction start timestamp for tx in which audited event occurred
	// Format: date-time
	ActionTstampTx strfmt.DateTime `json:"actionTstampTx,omitempty"`

	// A list of (changed/updated) MoveAuditHistoryItem's for a record after the change.
	ChangedValues MoveAuditHistoryItems `json:"changedValues,omitempty"`

	// Record the text of the client query that triggered the audit event
	ClientQuery *string `json:"clientQuery,omitempty"`

	// API endpoint name that was called to make the change
	EventName *string `json:"eventName,omitempty"`

	// id from audity_history table
	// Example: 1f2270c7-7166-40ae-981e-b200ebdf3054
	// Format: uuid
	ID strfmt.UUID `json:"id,omitempty"`

	// id column for the tableName where the data was changed
	// Example: 1f2270c7-7166-40ae-981e-b200ebdf3054
	// Format: uuid
	ObjectID *strfmt.UUID `json:"objectId,omitempty"`

	// A list of (old/previous) MoveAuditHistoryItem's for a record before the change.
	OldValues MoveAuditHistoryItems `json:"oldValues,omitempty"`

	// relation OID. Table OID (object identifier). Changes with drop/create.
	RelID int64 `json:"relId,omitempty"`

	// Database schema audited table for this event is in
	SchemaName string `json:"schemaName,omitempty"`

	// session user Id
	// Example: 1f2270c7-7166-40ae-981e-b200ebdf3054
	// Format: uuid
	SessionUserID *strfmt.UUID `json:"sessionUserId,omitempty"`

	// true if audit event is from an FOR EACH STATEMENT trigger, false for FOR EACH ROW'
	// Example: false
	StatementOnly bool `json:"statementOnly,omitempty"`

	// name of database table that was changed
	TableName string `json:"tableName,omitempty"`

	// Identifier of transaction that made the change. May wrap, but unique paired with action_tstamp_tx.
	TransactionID *int64 `json:"transactionId,omitempty"`
}

// Validate validates this move audit history
func (m *MoveAuditHistory) Validate(formats strfmt.Registry) error {
	var res []error

	if err := m.validateActionTstampClk(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateActionTstampStm(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateActionTstampTx(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateChangedValues(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateID(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateObjectID(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateOldValues(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateSessionUserID(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *MoveAuditHistory) validateActionTstampClk(formats strfmt.Registry) error {
	if swag.IsZero(m.ActionTstampClk) { // not required
		return nil
	}

	if err := validate.FormatOf("actionTstampClk", "body", "date-time", m.ActionTstampClk.String(), formats); err != nil {
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateActionTstampStm(formats strfmt.Registry) error {
	if swag.IsZero(m.ActionTstampStm) { // not required
		return nil
	}

	if err := validate.FormatOf("actionTstampStm", "body", "date-time", m.ActionTstampStm.String(), formats); err != nil {
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateActionTstampTx(formats strfmt.Registry) error {
	if swag.IsZero(m.ActionTstampTx) { // not required
		return nil
	}

	if err := validate.FormatOf("actionTstampTx", "body", "date-time", m.ActionTstampTx.String(), formats); err != nil {
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateChangedValues(formats strfmt.Registry) error {
	if swag.IsZero(m.ChangedValues) { // not required
		return nil
	}

	if err := m.ChangedValues.Validate(formats); err != nil {
		if ve, ok := err.(*errors.Validation); ok {
			return ve.ValidateName("changedValues")
		} else if ce, ok := err.(*errors.CompositeError); ok {
			return ce.ValidateName("changedValues")
		}
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateID(formats strfmt.Registry) error {
	if swag.IsZero(m.ID) { // not required
		return nil
	}

	if err := validate.FormatOf("id", "body", "uuid", m.ID.String(), formats); err != nil {
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateObjectID(formats strfmt.Registry) error {
	if swag.IsZero(m.ObjectID) { // not required
		return nil
	}

	if err := validate.FormatOf("objectId", "body", "uuid", m.ObjectID.String(), formats); err != nil {
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateOldValues(formats strfmt.Registry) error {
	if swag.IsZero(m.OldValues) { // not required
		return nil
	}

	if err := m.OldValues.Validate(formats); err != nil {
		if ve, ok := err.(*errors.Validation); ok {
			return ve.ValidateName("oldValues")
		} else if ce, ok := err.(*errors.CompositeError); ok {
			return ce.ValidateName("oldValues")
		}
		return err
	}

	return nil
}

func (m *MoveAuditHistory) validateSessionUserID(formats strfmt.Registry) error {
	if swag.IsZero(m.SessionUserID) { // not required
		return nil
	}

	if err := validate.FormatOf("sessionUserId", "body", "uuid", m.SessionUserID.String(), formats); err != nil {
		return err
	}

	return nil
}

// ContextValidate validate this move audit history based on the context it is used
func (m *MoveAuditHistory) ContextValidate(ctx context.Context, formats strfmt.Registry) error {
	var res []error

	if err := m.contextValidateChangedValues(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateOldValues(ctx, formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *MoveAuditHistory) contextValidateChangedValues(ctx context.Context, formats strfmt.Registry) error {

	if err := m.ChangedValues.ContextValidate(ctx, formats); err != nil {
		if ve, ok := err.(*errors.Validation); ok {
			return ve.ValidateName("changedValues")
		} else if ce, ok := err.(*errors.CompositeError); ok {
			return ce.ValidateName("changedValues")
		}
		return err
	}

	return nil
}

func (m *MoveAuditHistory) contextValidateOldValues(ctx context.Context, formats strfmt.Registry) error {

	if err := m.OldValues.ContextValidate(ctx, formats); err != nil {
		if ve, ok := err.(*errors.Validation); ok {
			return ve.ValidateName("oldValues")
		} else if ce, ok := err.(*errors.CompositeError); ok {
			return ce.ValidateName("oldValues")
		}
		return err
	}

	return nil
}

// MarshalBinary interface implementation
func (m *MoveAuditHistory) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *MoveAuditHistory) UnmarshalBinary(b []byte) error {
	var res MoveAuditHistory
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}
