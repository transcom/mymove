// Code generated by go-swagger; DO NOT EDIT.

package mto_shipment

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the generate command

import (
	"net/http"

	"github.com/go-openapi/runtime/middleware"
)

// UpdateShipmentDestinationAddressHandlerFunc turns a function with the right signature into a update shipment destination address handler
type UpdateShipmentDestinationAddressHandlerFunc func(UpdateShipmentDestinationAddressParams) middleware.Responder

// Handle executing the request and returning a response
func (fn UpdateShipmentDestinationAddressHandlerFunc) Handle(params UpdateShipmentDestinationAddressParams) middleware.Responder {
	return fn(params)
}

// UpdateShipmentDestinationAddressHandler interface for that can handle valid update shipment destination address params
type UpdateShipmentDestinationAddressHandler interface {
	Handle(UpdateShipmentDestinationAddressParams) middleware.Responder
}

// NewUpdateShipmentDestinationAddress creates a new http.Handler for the update shipment destination address operation
func NewUpdateShipmentDestinationAddress(ctx *middleware.Context, handler UpdateShipmentDestinationAddressHandler) *UpdateShipmentDestinationAddress {
	return &UpdateShipmentDestinationAddress{Context: ctx, Handler: handler}
}

/*
	UpdateShipmentDestinationAddress swagger:route POST /mto-shipments/{mtoShipmentID}/shipment-address-updates mtoShipment updateShipmentDestinationAddress

updateShipmentDestinationAddress

### Functionality
This endpoint is used so the Prime can request an **update** for the delivery address on an MTO Shipment,
after the delivery address has already been approved.

This endpoint and operation only supports the following shipment types:
- HHG
- NTSR

For HHG shipments, if automatically approved or TOO approves, this will update the final delivery address values for destination SIT service items to be the same as the changed delivery address that was approved.

Address updates will be automatically approved unless they change:
  - The service area
  - Mileage bracket for direct delivery
  - the address and the distance between the old and new address is > 50
  - Domestic Short Haul to Domestic Line Haul or vice versa
  - Shipments that start and end in one ZIP3 use Short Haul pricing
  - Shipments that start and end in different ZIP3s use Line Haul pricing

For those, changes will require TOO approval.
*/
type UpdateShipmentDestinationAddress struct {
	Context *middleware.Context
	Handler UpdateShipmentDestinationAddressHandler
}

func (o *UpdateShipmentDestinationAddress) ServeHTTP(rw http.ResponseWriter, r *http.Request) {
	route, rCtx, _ := o.Context.RouteInfo(r)
	if rCtx != nil {
		*r = *rCtx
	}
	var Params = NewUpdateShipmentDestinationAddressParams()
	if err := o.Context.BindValidRequest(r, route, &Params); err != nil { // bind params
		o.Context.Respond(rw, r, route.Produces, route, err)
		return
	}

	res := o.Handler.Handle(Params) // actually handle the request
	o.Context.Respond(rw, r, route.Produces, route, res)

}
