swagger: '2.0'
info:
  contact:
    email: milmove-developers@caci.com
  description:
    $ref: info/ghc_description.md
  license:
    name: MIT
    url: 'https://opensource.org/licenses/MIT'
  title: MilMove GHC API
  version: 0.0.1
basePath: /ghc/v1
schemes:
  - http
tags:
  - name: queues
  - name: move
  - $ref: 'tags/order.yaml'
  - name: moveTaskOrder
  - name: customer
  - name: mtoServiceItem
  - name: mtoShipment
  - name: shipment
  - name: mtoAgent
  - name: paymentServiceItem
  - name: ppm
  - name: tac
  - name: transportationOffice
  - name: addresses
  - name: uploads
  - name: paymentRequests
  - name: reServiceItems
paths:
  '/customer':
    post:
      summary: Creates a customer with Okta option
      description: Creates a customer with option to also create an Okta profile account based on the office user's input when completing the UI form and submitting.
      operationId: createCustomerWithOktaOption
      tags:
        - customer
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CreateCustomerPayload'
      responses:
        '200':
          description: successfully created the customer
          schema:
            $ref: '#/definitions/CreatedCustomer'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /open/requested-office-users:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      summary: Create an Office User
      description: >
        This endpoint is publicly accessible as it is utilized for individuals who do not have an office account to request the creation of an office account.

        Request the creation of an office user. An administrator will need to approve them after creation. Note on requirements:
        An identification method must be present. The following 2 fields have an "OR" requirement.
        - edipi
        - other_unique_id
        One of these two fields MUST be present to serve as identification for the office user being created. This logic is handled at the application level.
      operationId: createRequestedOfficeUser
      tags:
        - officeUsers
      parameters:
        - in: body
          name: officeUser
          description: Office User information
          schema:
            $ref: '#/definitions/OfficeUserCreate'
      responses:
        '201':
          description: successfully requested the creation of provided office user
          schema:
            $ref: '#/definitions/OfficeUser'
        '422':
          description: validation error
          schema:
            $ref: '#/definitions/ValidationError'
        '500':
          description: internal server error
  '/customer/{customerID}':
    parameters:
      - description: ID of customer to use
        in: path
        name: customerID
        required: true
        type: string
        format: uuid
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved information on an individual customer
          schema:
            $ref: '#/definitions/Customer'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - customer
      description: Returns a given customer
      operationId: getCustomer
      summary: Returns a given customer
    patch:
      summary: Updates customer info
      description: Updates customer info by ID
      operationId: updateCustomer
      tags:
        - customer
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateCustomerPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated instance of orders
          schema:
            $ref: '#/definitions/Customer'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.customer
  /customer/search:
    post:
      produces:
        - application/json
      consumes:
        - application/json
      summary: Search customers by DOD ID or customer name
      description: >
        Search customers by DOD ID or customer name. Used by services counselors to locate profiles to update, find attached moves, and to create new moves.
      operationId: searchCustomers
      tags:
        - customer
      parameters:
        - in: body
          name: body
          schema:
            properties:
              page:
                type: integer
                description: requested page of results
              perPage:
                type: integer
              edipi:
                description: DOD ID
                type: string
                minLength: 10
                maxLength: 10
                x-nullable: true
              emplid:
                description: EMPLID
                type: string
                minLength: 7
                maxLength: 7
                x-nullable: true
              branch:
                description: Branch
                type: string
                minLength: 1
              customerName:
                description: Customer Name
                type: string
                minLength: 1
                x-nullable: true
              sort:
                type: string
                x-nullable: true
                enum: [customerName, edipi, emplid, branch, personalEmail, telephone]
              order:
                type: string
                x-nullable: true
                enum: [asc, desc]
          description: field that results should be sorted by
      responses:
        '200':
          description: Successfully returned all customers matching the criteria
          schema:
            $ref: '#/definitions/SearchCustomersResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  '/move/{locator}':
    parameters:
      - description: Code used to identify a move in the system
        in: path
        name: locator
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved the individual move
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: Returns a given move for a unique alphanumeric locator string
      summary: Returns a given move
      operationId: getMove
  '/move/{locator}/history':
    parameters:
      - description: Code used to identify a move in the system
        in: path
        name: locator
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters:
        - in: query
          name: page
          type: integer
          description: requested page of results
        - in: query
          name: perPage
          type: integer
          description: results per page
      responses:
        '200':
          description: Successfully retrieved the individual move history
          schema:
            $ref: '#/definitions/MoveHistoryResult'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: Returns the history for a given move for a unique alphanumeric locator string
      summary: Returns the history of an identified move
      operationId: getMoveHistory
  '/moves/{moveID}/shipment-evaluation-reports-list':
    parameters:
      - description: Code used to identify a move in the system
        in: path
        name: moveID
        required: true
        type: string
        format: uuid
    get:
      produces:
        - application/json
      responses:
        '200':
          description: Successfully retrieved the move's evaluation reports
          schema:
            $ref: '#/definitions/EvaluationReportList'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: Returns shipment evaluation reports for the specified move that are visible to the current office user
      summary: Returns shipment evaluation reports for the specified move that are visible to the current office user
      operationId: getMoveShipmentEvaluationReportsList
  '/moves/{moveID}/counseling-evaluation-reports-list':
    parameters:
      - description: Code used to identify a move in the system
        in: path
        name: moveID
        required: true
        type: string
        format: uuid
    get:
      produces:
        - application/json
      responses:
        '200':
          description: Successfully retrieved the move's evaluation reports
          schema:
            $ref: '#/definitions/EvaluationReportList'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: Returns counseling evaluation reports for the specified move that are visible to the current office user
      summary: Returns counseling evaluation reports for the specified move that are visible to the current office user
      operationId: getMoveCounselingEvaluationReportsList
  '/moves/{moveID}/cancel':
    parameters:
      - description: ID of the move
        in: path
        name: moveID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully canceled move
          schema:
            $ref: '#/definitions/Move'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: cancels a move
      operationId: moveCanceler
      summary: Cancels a move
      x-permissions:
        - update.cancelMoveFlag
  '/counseling/orders/{orderID}':
    parameters:
      - description: ID of order to update
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates an order (performed by a services counselor)
      description: All fields sent in this request will be set on the order referenced
      operationId: counselingUpdateOrder
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CounselingUpdateOrderPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated instance of orders
          schema:
            $ref: '#/definitions/Order'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/orders':
    post:
      summary: Creates an orders model for a logged-in user
      description: Creates an instance of orders tied to a service member, which allow for creation of a move and an entitlement. Orders are required before the creation of a move
      operationId: createOrder
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: createOrders
          schema:
            $ref: '#/definitions/CreateOrders'
      responses:
        '200':
          description: created instance of orders
          schema:
            $ref: '#/definitions/Order'
        '400':
          description: invalid request
        '401':
          description: request requires user authentication
        '403':
          description: user is not authorized
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          description: internal server error
  '/orders/{orderID}':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates an order
      description: All fields sent in this request will be set on the order referenced
      operationId: updateOrder
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateOrderPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated instance of orders
          schema:
            $ref: '#/definitions/Order'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.orders
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved order
          schema:
            $ref: '#/definitions/Order'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - order
      description: Gets an order
      operationId: getOrder
      summary: Gets an order by ID
  '/orders/{orderID}/allowances':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates an allowance (Orders with Entitlements)
      description: All fields sent in this request will be set on the order referenced
      operationId: updateAllowance
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateAllowancePayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated instance of allowance
          schema:
            $ref: '#/definitions/Order'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.allowances
  '/orders/{orderID}/acknowledge-excess-weight-risk':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    post:
      summary: Saves the date and time a TOO acknowledged the excess weight risk by dismissing the alert
      description: Saves the date and time a TOO acknowledged the excess weight risk by dismissing the alert
      operationId: acknowledgeExcessWeightRisk
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated Move
          schema:
            $ref: '#/definitions/Move'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.excessWeightRisk
  '/orders/{orderID}/update-billable-weight':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates the max billable weight
      description: Updates the DBAuthorizedWeight attribute for the Order Entitlements=
      operationId: updateBillableWeight
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateBillableWeightPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated Order
          schema:
            $ref: '#/definitions/Order'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.billableWeight
  '/orders/{orderID}/update-max-billable-weight/tio':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates the max billable weight with TIO remarks
      description: Updates the DBAuthorizedWeight attribute for the Order Entitlements and move TIO remarks
      operationId: updateMaxBillableWeightAsTIO
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateMaxBillableWeightAsTIOPayload'
        - $ref: 'parameters/ifMatch.yaml'
      responses:
        '200':
          description: updated Order
          schema:
            $ref: '#/definitions/Order'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.maxBillableWeight
  /orders/{orderID}/upload_amended_orders:
    post:
      summary: Create an amended order for a given order
      description: Create an amended order for a given order
      operationId: uploadAmendedOrders
      tags:
        - order
      consumes:
        - multipart/form-data
      parameters:
        - in: path
          name: orderID
          type: string
          format: uuid
          required: true
          description: UUID of the order
        - in: formData
          name: file
          type: file
          description: The file to upload.
          required: true
      responses:
        '201':
          description: created upload
          schema:
            $ref: 'definitions/Upload.yaml'
        '400':
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        '403':
          description: not authorized
        '404':
          description: not found
        '413':
          description: payload is too large
        '500':
          description: server error
  '/counseling/orders/{orderID}/allowances':
    parameters:
      - description: ID of order to use
        in: path
        name: orderID
        required: true
        type: string
        format: uuid
    patch:
      summary: Updates an allowance (Orders with Entitlements)
      description: All fields sent in this request will be set on the order referenced
      operationId: counselingUpdateAllowance
      tags:
        - order
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/CounselingUpdateAllowancePayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated instance of allowance
          schema:
            $ref: '#/definitions/Order'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/move-task-orders/{moveTaskOrderID}':
    parameters:
      - description: ID of move to use
        in: path
        name: moveTaskOrderID
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved move task order
          schema:
            $ref: '#/definitions/MoveTaskOrder'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - moveTaskOrder
      description: Gets a move
      operationId: getMoveTaskOrder
      summary: Gets a move by ID
  '/move_task_orders/{moveTaskOrderID}/mto_service_items':
    parameters:
      - description: ID of move for mto service item to use
        in: path
        name: moveTaskOrderID
        required: true
        format: uuid
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved all line items for a move task order
          schema:
            $ref: 'definitions/MTOServiceItems.yaml'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoServiceItem
      description: Gets all line items for a move
      operationId: listMTOServiceItems
      summary: Gets all line items for a move
  '/mto-shipments':
    post:
      summary: createMTOShipment
      description: |
        Creates a MTO shipment for the specified Move Task Order.
        Required fields include:
        * Shipment Type
        * Customer requested pick-up date
        * Pick-up Address
        * Delivery Address
        * Releasing / Receiving agents
        Optional fields include:
        * Delivery Address Type
        * Customer Remarks
        * Releasing / Receiving agents
        * An array of optional accessorial service item codes
      consumes:
        - application/json
      produces:
        - application/json
      operationId: createMTOShipment
      tags:
        - mtoShipment
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateMTOShipment'
      responses:
        '200':
          description: Successfully created a MTO shipment.
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/move_task_orders/{moveTaskOrderID}/mto_shipments':
    parameters:
      - description: ID of move task order for mto shipment to use
        in: path
        name: moveTaskOrderID
        required: true
        format: uuid
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved all mto shipments for a move task order
          schema:
            $ref: '#/definitions/MTOShipments'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoShipment
      description: Gets all shipments for a move task order
      operationId: listMTOShipments
      summary: Gets all shipments for a move task order
  '/shipments/{shipmentID}':
    get:
      summary: fetches a shipment by ID
      description: fetches a shipment by ID
      operationId: getShipment
      tags:
        - mtoShipment
      produces:
        - application/json
      parameters:
        - description: ID of the shipment to be fetched
          in: path
          name: shipmentID
          required: true
          format: uuid
          type: string
      responses:
        '200':
          description: Successfully fetched the shipment
          schema:
            $ref: '#/definitions/MTOShipment'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
    delete:
      summary: Soft deletes a shipment by ID
      description: Soft deletes a shipment by ID
      operationId: deleteShipment
      tags:
        - shipment
      produces:
        - application/json
      parameters:
        - description: ID of the shipment to be deleted
          in: path
          name: shipmentID
          required: true
          format: uuid
          type: string
      responses:
        '204':
          description: Successfully soft deleted the shipment
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/move_task_orders/{moveTaskOrderID}/mto_shipments/{shipmentID}':
    patch:
      summary: updateMTOShipment
      description: |
        Updates a specified MTO shipment.
        Required fields include:
        * MTO Shipment ID required in path
        * If-Match required in headers
        * No fields required in body
        Optional fields include:
        * New shipment status type
        * Shipment Type
        * Customer requested pick-up date
        * Pick-up Address
        * Delivery Address
        * Secondary Pick-up Address
        * SecondaryDelivery Address
        * Delivery Address Type
        * Customer Remarks
        * Counselor Remarks
        * Releasing / Receiving agents
        * Actual Pro Gear Weight
        * Actual Spouse Pro Gear Weight
      consumes:
        - application/json
      produces:
        - application/json
      operationId: updateMTOShipment
      tags:
        - mtoShipment
      parameters:
        - in: path
          name: moveTaskOrderID
          required: true
          format: uuid
          type: string
          description: ID of move task order for mto shipment to use
        - in: path
          name: shipmentID
          type: string
          format: uuid
          required: true
          description: UUID of the MTO Shipment to update
        - in: header
          name: If-Match
          type: string
          required: true
          description: >
            Optimistic locking is implemented via the `If-Match` header. If the ETag header does not match
            the value of the resource on the server, the server rejects the change with a `412 Precondition Failed` error.
        - in: body
          name: body
          schema:
            $ref: '#/definitions/UpdateShipment'
      responses:
        '200':
          description: Successfully updated the specified MTO shipment.
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/shipments/{shipmentID}/approve':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully approved the shipment
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
      description: Approves a shipment
      operationId: approveShipment
      summary: Approves a shipment
      x-permissions:
        - update.shipment
  '/shipments/{shipmentID}/request-diversion':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/RequestDiversion'
      responses:
        '200':
          description: Successfully requested the shipment diversion
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
      description: Requests a shipment diversion
      operationId: requestShipmentDiversion
      summary: Requests a shipment diversion
      x-permissions:
        - create.shipmentDiversionRequest
  '/shipments/{shipmentID}/approve-diversion':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully approved the shipment diversion
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.shipment
      tags:
        - shipment
      description: Approves a shipment diversion
      operationId: approveShipmentDiversion
      summary: Approves a shipment diversion
  '/shipments/{shipmentID}/reject':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/RejectShipment'
      responses:
        '200':
          description: Successfully rejected the shipment
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
      description: rejects a shipment
      operationId: rejectShipment
      summary: rejects a shipment
  '/shipments/{shipmentID}/request-cancellation':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully requested the shipment cancellation
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
      description: Requests a shipment cancellation
      operationId: requestShipmentCancellation
      summary: Requests a shipment cancellation
      x-permissions:
        - create.shipmentCancellation
  '/shipments/{shipmentID}/request-reweigh':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    post:
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          description: Successfully requested a reweigh of the shipment
          schema:
            $ref: 'definitions/Reweigh.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
        - reweigh
      description: Requests a shipment reweigh
      operationId: requestShipmentReweigh
      summary: Requests a shipment reweigh
      x-permissions:
        - create.reweighRequest
  '/shipments/{shipmentID}/review-shipment-address-update':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            properties:
              status:
                type: string
                enum:
                  - REJECTED
                  - APPROVED
              officeRemarks:
                type: string
            required:
              - officeRemarks
              - status
      responses:
        '200':
          description: Successfully requested a shipment address update
          schema:
            $ref: 'definitions/ShipmentAddressUpdate.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
      description: This endpoint is used to approve a address update request. Office remarks are required.
        Approving the address update will update the Destination Final Address of the associated service item
      operationId: reviewShipmentAddressUpdate
      summary: Allows TOO to review a shipment address update
  '/shipments/{shipmentID}/sit-extensions':
    post:
      summary: Create an approved SIT Duration Update
      description: TOO can creates an already-approved SIT Duration Update on behalf of a customer
      consumes:
        - application/json
      produces:
        - application/json
      operationId: createApprovedSITDurationUpdate
      tags:
        - shipment
        - sitExtension
      parameters:
        - description: ID of the shipment
          in: path
          name: shipmentID
          required: true
          format: uuid
          type: string
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateApprovedSITDurationUpdate'
          required: true
        - in: header
          description: We want the shipment's eTag rather than the SIT Duration Update eTag as the SIT Duration Update is always associated with a shipment
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully created a SIT Extension.
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - create.SITExtension
  '/shipments/{shipmentID}/sit-extensions/{sitExtensionID}/approve':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
      - description: ID of the SIT extension
        in: path
        name: sitExtensionID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/ApproveSITExtension'
        - in: header
          description: We want the shipment's eTag rather than the SIT extension eTag as the SIT extension is always associated with a shipment
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully approved a SIT extension
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
        - sitExtension
      description: Approves a SIT extension
      operationId: approveSITExtension
      summary: Approves a SIT extension
      x-permissions:
        - update.SITExtension
  '/shipments/{shipmentID}/sit-extensions/{sitExtensionID}/deny':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
      - description: ID of the SIT extension
        in: path
        name: sitExtensionID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/DenySITExtension'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully denied a SIT extension
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
        - sitExtension
      description: Denies a SIT extension
      operationId: denySITExtension
      summary: Denies a SIT extension
      x-permissions:
        - update.SITExtension
  '/shipments/{shipmentID}/sit-service-item/convert-to-customer-expense':
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateSITServiceItemCustomerExpense'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully converted to customer expense
          schema:
            $ref: 'definitions/MTOShipment.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - shipment
        - mtoServiceItem
      description: Converts a SIT to customer expense
      operationId: updateSITServiceItemCustomerExpense
      summary: Converts a SIT to customer expense
      x-permissions:
        - update.MTOServiceItem
  /shipments/{shipmentID}/ppm-documents:
    parameters:
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    get:
      summary: Gets all the PPM documents for a PPM shipment
      description: |
        Retrieves all of the documents and associated uploads for each ppm document type connected to a PPM shipment. This
        excludes any deleted PPM documents.
      operationId: getPPMDocuments
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          description: All PPM documents and associated uploads for the specified PPM shipment.
          schema:
            $ref: 'definitions/PPMDocuments.yaml'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/weight-ticket/{weightTicketId}:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
      - $ref: 'parameters/weightTicketId.yaml'
    patch:
      summary: Updates a weight ticket document
      description: |
        Updates a PPM shipment's weight ticket document with new information. Only some of the weight ticket document's
        fields are editable because some have to be set by the customer, e.g. vehicle description.
      operationId: updateWeightTicket
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - $ref: 'parameters/ifMatch.yaml'
        - in: body
          name: updateWeightTicketPayload
          required: true
          schema:
            $ref: '#/definitions/UpdateWeightTicket'
      responses:
        '200':
          description: returns an updated weight ticket object
          schema:
            $ref: 'definitions/WeightTicket.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/moving-expenses/{movingExpenseId}:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
      - $ref: 'parameters/movingExpenseId.yaml'
    patch:
      summary: Updates the moving expense
      description: |
        Updates a PPM shipment's moving expense with new information. Only some of the moving expense's fields are
        editable because some have to be set by the customer, e.g. the description and the moving expense type.
      operationId: updateMovingExpense
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - $ref: 'parameters/ifMatch.yaml'
        - in: body
          name: updateMovingExpense
          required: true
          schema:
            $ref: '#/definitions/UpdateMovingExpense'
      responses:
        '200':
          description: returns an updated moving expense object
          schema:
            $ref: 'definitions/MovingExpense.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/pro-gear-weight-tickets/{proGearWeightTicketId}:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
      - $ref: 'parameters/proGearWeightTicketId.yaml'
    patch:
      summary: Updates a pro-gear weight ticket
      description: |
        Updates a PPM shipment's pro-gear weight ticket with new information. Only some of the fields are editable
        because some have to be set by the customer, e.g. the description.
      operationId: updateProGearWeightTicket
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - $ref: 'parameters/ifMatch.yaml'
        - in: body
          name: updateProGearWeightTicket
          required: true
          schema:
            $ref: '#/definitions/UpdateProGearWeightTicket'
      responses:
        '200':
          description: returns an updated pro-gear weight ticket object
          schema:
            $ref: 'definitions/ProGearWeightTicket.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/aoa-packet:
    parameters:
      - description: the id for the ppmshipment with aoa to be downloaded
        in: path
        name: ppmShipmentId
        required: true
        type: string
    get:
      summary: Downloads AOA Packet form PPMShipment as a PDF
      description: |
        ### Functionality
        This endpoint downloads all uploaded move order documentation combined with the Shipment Summary Worksheet into a single PDF.
        ### Errors
        * The PPMShipment must have requested an AOA.
        * The PPMShipment AOA Request must have been approved.
      operationId: showAOAPacket
      tags:
        - ppm
      produces:
        - application/pdf
      responses:
        '200':
          headers:
            Content-Disposition:
              type: string
              description: File name to download
          description: AOA PDF
          schema:
            format: binary
            type: file
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/finish-document-review:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
    patch:
      summary: Updates a PPM shipment's status after document review
      description: |
        Updates a PPM shipment's status once documents have been reviewed. Status is updated depending on whether any documents have been rejected.
      operationId: finishDocumentReview
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully finished document review
          schema:
            $ref: 'definitions/PPMShipment.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.shipment
  /ppm-shipments/{ppmShipmentId}/ppm-sit:
    patch:
      summary: Updates a PPM shipment's SIT values
      description: |
        Updates a PPM shipment's SIT values
      operationId: updatePPMSIT
      tags:
        - ppm
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - $ref: 'parameters/ppmShipmentId.yaml'
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: 'definitions/PPMShipmentSIT.yaml'
      responses:
        '200':
          description: Successfully finished PPM SIT update
          schema:
            $ref: 'definitions/PPMShipment.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/closeout:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
    get:
      summary: Get the closeout calcuations for the specified PPM shipment
      description: |
        Retrieves the closeout calculations for the specified PPM shipment.
      operationId: getPPMCloseout
      tags:
        - ppm
      produces:
        - application/json
      responses:
        '200':
          description: Returns closeout for the specified PPM shipment.
          schema:
            $ref: 'definitions/PPMCloseout.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/actual-weight:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
    get:
      summary: Get the actual weight for a PPM shipment
      description: |
        Retrieves the actual weight for the specified PPM shipment.
      operationId: getPPMActualWeight
      tags:
        - ppm
      produces:
        - application/json
      responses:
        '200':
          description: Returns actual weight for the specified PPM shipment.
          schema:
            $ref: 'definitions/PPMActualWeight.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/sit_location/{sitLocation}/sit-estimated-cost:
    parameters:
      - $ref: 'parameters/ppmShipmentId.yaml'
      - in: path
        format: string
        description: location of sit
        name: sitLocation
        required: true
        type: string
        enum:
          - ORIGIN
          - DESTINATION
      - in: query
        format: date-time
        description: Date entered into SIT
        name: sitEntryDate
        required: true
        type: string
      - in: query
        format: date-time
        description: Date departed SIT
        name: sitDepartureDate
        required: true
        type: string
      - in: query
        description: Weight stored in SIT
        name: weightStored
        required: true
        type: integer
        minimum: 0
    get:
      summary: Get the SIT estimated cost for a PPM shipment
      description: |
        Calculates and returns the SIT estimated cost for the specified PPM shipment.
      operationId: getPPMSITEstimatedCost
      tags:
        - ppm
      produces:
        - application/json
      responses:
        '200':
          description: Calculates and returns the SIT estimated cost for the specified PPM shipment.
          schema:
            $ref: 'definitions/PPMSITEstimatedCost.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /ppm-shipments/{ppmShipmentId}/payment-packet:
    get:
      summary: Returns PPM payment packet
      description: Generates a PDF containing all user uploaded documentations for PPM. Contains SSW form, orders, weight and expense documentations.
      operationId: showPaymentPacket
      tags:
        - ppm
      parameters:
        - in: path
          name: ppmShipmentId
          type: string
          format: uuid
          required: true
          description: UUID of the ppmShipment
      produces:
        - application/pdf
      responses:
        '200':
          headers:
            Content-Disposition:
              type: string
              description: File name to download
          description: PPM Payment Packet PDF
          schema:
            format: binary
            type: file
        '400':
          description: invalid request
        '401':
          description: request requires user authentication
        '403':
          description: user is not authorized
        '404':
          description: ppm not found
        '500':
          description: internal server error
  '/move_task_orders/{moveTaskOrderID}/mto_shipments/{shipmentID}/mto-agents':
    parameters:
      - description: ID of move task order
        in: path
        name: moveTaskOrderID
        required: true
        format: uuid
        type: string
      - description: ID of the shipment
        in: path
        name: shipmentID
        required: true
        format: uuid
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved all agents for a move task order
          schema:
            $ref: 'definitions/MTOAgents.yaml'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoAgent
      description: Fetches a list of agents associated with a move task order.
      operationId: fetchMTOAgentList
      summary: Fetch move task order agents.
  '/move-task-orders/{moveTaskOrderID}/service-items/{mtoServiceItemID}':
    parameters:
      - description: ID of move to use
        in: path
        name: moveTaskOrderID
        required: true
        type: string
      - description: ID of line item to use
        in: path
        name: mtoServiceItemID
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved a line item for a move task order by ID
          schema:
            $ref: 'definitions/MTOServiceItemSingle.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoServiceItem
      description: Gets a line item by ID for a move by ID
      operationId: getMTOServiceItem
      summary: Gets a line item by ID for a move by ID
  '/move-task-orders/{moveTaskOrderID}/service-items/{mtoServiceItemID}/status':
    parameters:
      - description: ID of move to use
        in: path
        name: moveTaskOrderID
        required: true
        type: string
      - description: ID of line item to use
        in: path
        name: mtoServiceItemID
        required: true
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/PatchMTOServiceItemStatusPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: >-
            Successfully updated status for a line item for a move task order by
            ID
          schema:
            $ref: 'definitions/MTOServiceItem.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoServiceItem
      description: Changes the status of a line item for a move by ID
      operationId: updateMTOServiceItemStatus
      summary: Change the status of a line item for a move by ID
      x-permissions:
        - update.MTOServiceItem
  '/service-item/{mtoServiceItemID}/entry-date-update':
    parameters:
      - description: ID of the service item
        in: path
        name: mtoServiceItemID
        required: true
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: 'definitions/ServiceItemSitEntryDate.yaml'
      responses:
        '200':
          description: Successfully updated SIT entry date
          schema:
            $ref: 'definitions/MTOServiceItemSingle.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - mtoServiceItem
      description: Locates the service item in the database and updates the SIT entry date for the selected service item and returns the service item
      operationId: updateServiceItemSitEntryDate
      summary: Updates a service item's SIT entry date by ID
  '/move-task-orders/{moveTaskOrderID}/status':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: ID of move to use
          in: path
          name: moveTaskOrderID
          required: true
          type: string
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: serviceItemCodes
          schema:
            $ref: '#/definitions/MTOApprovalServiceItemCodes'
          required: true
      responses:
        '200':
          description: Successfully updated move task order status
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - moveTaskOrder
      description: Changes move task order status to make it available to prime
      operationId: updateMoveTaskOrderStatus
      summary: Change the status of a move task order to make it available to prime
      x-permissions:
        - update.move
        - create.serviceItem
  '/move-task-orders/{moveTaskOrderID}/status/service-counseling-completed':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: ID of move to use
          in: path
          name: moveTaskOrderID
          required: true
          type: string
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully updated move task order status
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - moveTaskOrder
      description: Changes move (move task order) status to service counseling completed
      operationId: updateMTOStatusServiceCounselingCompleted
      summary: Changes move (move task order) status to service counseling completed
  '/move-task-orders/{moveTaskOrderID}/payment-service-items/{paymentServiceItemID}/status':
    parameters:
      - description: ID of move to use
        in: path
        name: moveTaskOrderID
        required: true
        type: string
      - description: ID of payment service item to use
        in: path
        name: paymentServiceItemID
        required: true
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/PaymentServiceItem'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: >-
            Successfully updated status for a line item for a move task order by
            ID
          schema:
            $ref: '#/definitions/PaymentServiceItem'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - paymentServiceItem
      description: Changes the status of a line item for a move by ID
      operationId: updatePaymentServiceItemStatus
      summary: Change the status of a payment service item for a move by ID
      x-permissions:
        - update.paymentServiceItemStatus
  '/move-task-orders/{moveTaskOrderID}/billable-weights-reviewed-at':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: ID of move to use
          in: path
          name: moveTaskOrderID
          required: true
          type: string
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully updated move task order billableWeightsReviewedAt field
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - moveTaskOrder
      description: Changes move (move task order) billableWeightsReviewedAt field to a timestamp
      operationId: updateMTOReviewedBillableWeightsAt
  '/move-task-orders/{moveTaskOrderID}/tio-remarks':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: ID of move to use
          in: path
          name: moveTaskOrderID
          required: true
          type: string
        - in: header
          name: If-Match
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/Move'
      responses:
        '200':
          description: Successfully updated move task order tioRemarks field
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - moveTaskOrder
      description: Changes move (move task order) billableWeightsReviewedAt field to a timestamp
      operationId: updateMoveTIORemarks
  '/move-task-orders/{moveTaskOrderID}/entitlements':
    parameters:
      - description: ID of move to use
        in: path
        name: moveTaskOrderID
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      tags:
        - moveTaskOrder
      responses:
        '200':
          description: Successfully retrieved entitlements
          schema:
            $ref: '#/definitions/Entitlements'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      description: Gets entitlements
      operationId: getEntitlements
      summary: Gets entitlements for a move by ID
  '/payment-requests/{paymentRequestID}':
    parameters:
      - description: UUID of payment request
        format: uuid
        in: path
        name: paymentRequestID
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: fetched instance of payment request
          schema:
            $ref: '#/definitions/PaymentRequest'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - paymentRequests
      description: Fetches an instance of a payment request by id
      operationId: getPaymentRequest
      summary: Fetches a payment request by id
      x-permissions:
        - read.paymentRequest
  '/moves/{locator}/closeout-office':
    parameters:
      - description: move code to identify a move to update the PPM shipment's closeout office for Army and Air Force service members
        format: string
        in: path
        name: locator
        required: true
        type: string
    patch:
      description: Sets the transportation office closeout location for where the Move's PPM Shipment documentation will be reviewed by
      tags:
        - move
      operationId: updateCloseoutOffice
      x-permissions:
        - update.closeoutOffice
      summary: Updates a Move's PPM closeout office for Army and Air Force customers
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            properties:
              closeoutOfficeId:
                type: string
                format: uuid
            required:
              - closeoutOfficeId
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: Successfully set the closeout office for the move
          schema:
            $ref: '#/definitions/Move'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/moves/{locator}/customer-support-remarks':
    parameters:
      - description: move code to identify a move for customer support remarks
        format: string
        in: path
        name: locator
        required: true
        type: string
    post:
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateCustomerSupportRemark'
      responses:
        '200':
          description: Successfully created customer support remark
          schema:
            $ref: 'definitions/CustomerSupportRemark.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - customerSupportRemarks
      description: Creates a customer support remark for a move
      operationId: createCustomerSupportRemarkForMove
      summary: Creates a customer support remark for a move
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved all line items for a move task order
          schema:
            $ref: 'definitions/CustomerSupportRemarks.yaml'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - customerSupportRemarks
      description: Fetches customer support remarks for a move
      operationId: getCustomerSupportRemarksForMove
      summary: Fetches customer support remarks using the move code (locator).
  '/customer-support-remarks/{customerSupportRemarkID}':
    parameters:
      - in: path
        description: the customer support remark ID to be modified
        name: customerSupportRemarkID
        required: true
        type: string
        format: uuid
    patch:
      tags:
        - customerSupportRemarks
      description: Updates a customer support remark for a move
      operationId: updateCustomerSupportRemarkForMove
      summary: Updates a customer support remark for a move
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateCustomerSupportRemarkPayload'
      responses:
        '200':
          description: Successfully updated customer support remark
          schema:
            $ref: 'definitions/CustomerSupportRemark.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
    delete:
      summary: Soft deletes a customer support remark by ID
      description: Soft deletes a customer support remark by ID
      operationId: deleteCustomerSupportRemark
      tags:
        - customerSupportRemarks
      produces:
        - application/json
      responses:
        '204':
          description: Successfully soft deleted the shipment
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/moves/{locator}/evaluation-reports':
    parameters:
      - in: path
        name: locator
        required: true
        type: string
    post:
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateEvaluationReport'
      responses:
        '200':
          description: Successfully created evaluation report
          schema:
            $ref: '#/definitions/EvaluationReport'
        '400':
          $ref: '#/responses/InvalidRequest'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - create.evaluationReport
      tags:
        - evaluationReports
      description: Creates an evaluation report
      operationId: createEvaluationReport
      summary: Creates an evaluation report
  '/evaluation-reports/{reportID}/download':
    parameters:
      - in: path
        description: the evaluation report ID to be downloaded
        name: reportID
        required: true
        type: string
        format: uuid
    get:
      summary: Downloads an evaluation report as a PDF
      description: Downloads an evaluation report as a PDF
      operationId: downloadEvaluationReport
      tags:
        - evaluationReports
      produces:
        - application/pdf
      responses:
        '200':
          headers:
            Content-Disposition:
              type: string
              description: File name to download
          description: Evaluation report PDF
          schema:
            format: binary
            type: file
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  '/evaluation-reports/{reportID}':
    parameters:
      - in: path
        description: the evaluation report ID to be modified
        name: reportID
        required: true
        type: string
        format: uuid
    get:
      summary: Gets an evaluation report by ID
      description: Gets an evaluation report by ID
      operationId: getEvaluationReport
      tags:
        - evaluationReports
      produces:
        - application/json
      responses:
        '200':
          description: Successfully got the report
          schema:
            $ref: '#/definitions/EvaluationReport'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
    delete:
      summary: Deletes an evaluation report by ID
      description: Deletes an evaluation report by ID
      operationId: deleteEvaluationReport
      x-permissions:
        - delete.evaluationReport
      tags:
        - evaluationReports
      produces:
        - application/json
      responses:
        '204':
          description: Successfully deleted the report
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
    put:
      summary: Saves an evaluation report as a draft
      description: Saves an evaluation report as a draft
      operationId: saveEvaluationReport
      x-permissions:
        - update.evaluationReport
      tags:
        - evaluationReports
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/EvaluationReport'
        - in: header
          name: If-Match
          type: string
          required: true
          description: >
            Optimistic locking is implemented via the `If-Match` header. If the ETag header does not match
            the value of the resource on the server, the server rejects the change with a `412 Precondition Failed` error.
      responses:
        '204':
          description: Successfully saved the report
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  '/evaluation-reports/{reportID}/submit':
    parameters:
      - in: path
        description: the evaluation report ID to be modified
        name: reportID
        required: true
        type: string
        format: uuid
    post:
      summary: Submits an evaluation report
      description: Submits an evaluation report
      operationId: submitEvaluationReport
      tags:
        - evaluationReports
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
          required: true
          description: >
            Optimistic locking is implemented via the `If-Match` header. If the ETag header does not match
            the value of the resource on the server, the server rejects the change with a `412 Precondition Failed` error.
      responses:
        '204':
          description: Successfully submitted an evaluation report with the provided ID
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.evaluationReport
  '/evaluation-reports/{reportID}/appeal/add':
    parameters:
      - in: path
        description: the evaluation report ID
        name: reportID
        required: true
        type: string
        format: uuid
    post:
      summary: Adds an appeal to a serious incident on an evaluation report
      description: Adds an appeal to a serious incident on an evaluation report
      operationId: addAppealToSeriousIncident
      tags:
        - evaluationReports
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateAppeal'
      responses:
        '204':
          description: Successfully added an appeal to a serious incident
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.evaluationReport
  '/evaluation-reports/{reportID}/{reportViolationID}/appeal/add':
    parameters:
      - in: path
        description: the evaluation report ID
        name: reportID
        required: true
        type: string
        format: uuid
      - in: path
        description: the report violation ID
        name: reportViolationID
        required: true
        type: string
        format: uuid
    post:
      summary: Adds an appeal to a violation
      description: Adds an appeal to a violation
      operationId: addAppealToViolation
      tags:
        - evaluationReports
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/CreateAppeal'
      responses:
        '204':
          description: Successfully added an appeal to a violation
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.evaluationReport
  '/pws-violations':
    get:
      summary: Fetch the possible PWS violations for an evaluation report
      description: Fetch the possible PWS violations for an evaluation report
      operationId: getPWSViolations
      tags:
        - pwsViolations
      produces:
        - application/json
      responses:
        '200':
          description: Successfully retrieved the PWS violations
          schema:
            $ref: '#/definitions/PWSViolations'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  '/report-violations/{reportID}':
    parameters:
      - in: path
        description: the evaluation report ID that has associated violations
        name: reportID
        required: true
        type: string
        format: uuid
    get:
      summary: Fetch the report violations for an evaluation report
      description: Fetch the report violations for an evaluation report
      operationId: getReportViolationsByReportID
      tags:
        - reportViolations
      produces:
        - application/json
      responses:
        '200':
          description: Successfully retrieved the report violations
          schema:
            $ref: '#/definitions/ReportViolations'
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
    post:
      summary: Associate violations with an evaluation report
      description: >-
        Associate violations with an evaluation report. This will overwrite any
        existing report-violations associations for the report and replace them
        with the newly provided ones.  An empty array will remove all violation
        associations for a given report.
      operationId: associateReportViolations
      tags:
        - reportViolations
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/AssociateReportViolations'
      responses:
        '204':
          description: Successfully saved the report violations
        '400':
          $ref: '#/responses/InvalidRequest'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '409':
          $ref: '#/responses/Conflict'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - create.reportViolation
  '/moves/{locator}/payment-requests':
    parameters:
      - description: move code to identify a move for payment requests
        format: string
        in: path
        name: locator
        required: true
        type: string
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved all line items for a move task order
          schema:
            $ref: '#/definitions/PaymentRequests'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - paymentRequests
      description: Fetches payment requests for a move
      operationId: getPaymentRequestsForMove
      summary: Fetches payment requests using the move code (locator).
      x-permissions:
        - read.paymentRequest
  '/moves/{moveID}/financial-review-flag':
    parameters:
      - description: ID of move to flag
        in: path
        name: moveID
        required: true
        type: string
        format: uuid
    post:
      summary: Flags a move for financial office review
      description: This sets a flag which indicates that the move should be reviewed by a fincancial office. For example, if the origin or destination address of a shipment is far from the duty location and may incur excess costs to the customer.
      operationId: setFinancialReviewFlag
      tags:
        - move
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: If-Match
          type: string
        - in: body
          name: body
          schema:
            required:
              - flagForReview
            properties:
              remarks:
                description: explanation of why the move is being flagged for financial review
                example: this address is way too far away
                type: string
                x-nullable: true
              flagForReview:
                description: boolean value representing whether we should flag a move for financial review
                example: false
                type: boolean
      responses:
        '200':
          description: updated Move
          schema:
            $ref: '#/definitions/Move'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      x-permissions:
        - update.financialReviewFlag
  /moves/{moveID}/uploadAdditionalDocuments:
    patch:
      summary: Patch the additional documents for a given move
      description: Customers will on occaision need the ability to upload additional supporting documents, for a variety of reasons. This does not include amended order.
      operationId: uploadAdditionalDocuments
      tags:
        - move
      consumes:
        - multipart/form-data
      parameters:
        - in: path
          name: moveID
          type: string
          format: uuid
          required: true
          description: UUID of the order
        - in: formData
          name: file
          type: file
          description: The file to upload.
          required: true
      responses:
        '201':
          description: created upload
          schema:
            $ref: 'definitions/Upload.yaml'
        '400':
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        '403':
          description: not authorized
        '404':
          description: not found
        '413':
          description: payload is too large
        '500':
          description: server error
      x-permissions:
        - create.supportingDocuments
  '/payment-requests/{paymentRequestID}/shipments-payment-sit-balance':
    parameters:
      - description: payment request ID of the payment request with SIT service items being reviewed
        name: paymentRequestID
        type: string
        format: uuid
        in: path
        required: true
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved shipments and their SIT days balance from all payment requests on the move
          schema:
            $ref: '#/definitions/ShipmentsPaymentSITBalance'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - paymentRequests
      description: Returns all shipment payment request SIT usage to support partial SIT invoicing
      operationId: getShipmentsPaymentSITBalance
      summary: Returns all shipment payment request SIT usage to support partial SIT invoicing
      x-permissions:
        - read.shipmentsPaymentSITBalance
  '/payment-requests/{paymentRequestID}/status':
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: UUID of payment request
          format: uuid
          in: path
          name: paymentRequestID
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdatePaymentRequestStatusPayload'
        - in: header
          name: If-Match
          type: string
          required: true
      responses:
        '200':
          description: updated payment request
          schema:
            $ref: '#/definitions/PaymentRequest'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - paymentRequests
      description: Updates status of a payment request by id
      operationId: updatePaymentRequestStatus
      summary: Updates status of a payment request by id
      x-permissions:
        - update.paymentRequest
  '/payment-requests/{paymentRequestID}/bulkDownload':
    parameters:
      - description: the id for the payment-request with files to be downloaded
        in: path
        name: paymentRequestID
        required: true
        type: string
    get:
      summary: Downloads all Payment Request documents as a PDF
      description: |
        This endpoint downloads all uploaded payment request documentation combined into a single PDF.
      operationId: bulkDownload
      tags:
        - paymentRequests
      produces:
        - application/pdf
      responses:
        '200':
          headers:
            Content-Disposition:
              type: string
              description: File name to download
          description: Payment Request Files PDF
          schema:
            format: binary
            type: file
        '400':
          $ref: '#/responses/InvalidRequest'
        '500':
          $ref: '#/responses/ServerError'
  /documents/{documentId}:
    get:
      summary: Returns a document
      description: Returns a document and its uploads
      operationId: getDocument
      tags:
        - ghcDocuments
      parameters:
        - in: path
          name: documentId
          type: string
          format: uuid
          required: true
          description: UUID of the document to return
      responses:
        '200':
          description: the requested document
          schema:
            $ref: 'definitions/Document.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '412':
          $ref: '#/responses/PreconditionFailed'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /documents:
    post:
      summary: Create a new document
      description: Documents represent a physical artifact such as a scanned document or a PDF file
      operationId: createDocument
      tags:
        - ghcDocuments
      parameters:
        - in: body
          name: documentPayload
          required: true
          schema:
            $ref: '#/definitions/PostDocumentPayload'
      responses:
        '201':
          description: created document
          schema:
            $ref: 'definitions/Document.yaml'
        '400':
          description: invalid request
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          description: server error
  /queues/counseling:
    get:
      produces:
        - application/json
      summary: Gets queued list of all customer moves needing services counseling by GBLOC origin
      description: >
        An office services counselor user will be assigned a transportation office that will determine which moves are displayed in their queue based on the origin duty location.  GHC moves will show up here onced they have reached the NEEDS SERVICE COUNSELING status after submission from a customer or created on a customer's behalf.
      operationId: getServicesCounselingQueue
      tags:
        - queues
      parameters:
        - in: query
          name: page
          type: integer
          description: requested page number of paginated move results
        - in: query
          name: perPage
          type: integer
          description: maximum number of moves to show on each page of paginated results
        - in: query
          name: sort
          type: string
          enum:
            [
              customerName,
              edipi,
              emplid,
              branch,
              locator,
              status,
              requestedMoveDate,
              submittedAt,
              originGBLOC,
              originDutyLocation,
              destinationDutyLocation,
              ppmType,
              closeoutInitiated,
              closeoutLocation,
              ppmStatus,
              counselingOffice,
              assignedTo,
            ]
          description: field that results should be sorted by
        - in: query
          name: order
          type: string
          enum: [asc, desc]
          description: direction of sort order if applied
        - in: query
          name: branch
          type: string
          description: filters by the branch of the move's service member
        - in: query
          name: locator
          type: string
          description: filters to match the unique move code locator
        - in: query
          name: customerName
          type: string
          description: filters using a prefix match on the service member's last name
        - in: query
          name: counselingOffice
          type: string
          description: filters using a counselingOffice name of the move
        - in: query
          name: edipi
          type: string
          description: filters to match the unique service member's DoD ID
        - in: query
          name: emplid
          type: string
          description: filters to match the unique service member's EMPLID
        - in: query
          name: requestedMoveDate
          type: string
          description: filters the requested pickup date of a shipment on the move
        - in: query
          name: submittedAt
          type: string
          format: date-time
          description: Start of the submitted at date in the user's local time zone converted to UTC
        - in: query
          name: originGBLOC
          type: string
          description: filters the GBLOC of the service member's origin duty location
        - in: query
          name: originDutyLocation
          type: array
          uniqueItems: true
          collectionFormat: multi
          items:
            type: string
          description: filters the name of the origin duty location on the orders
        - in: query
          name: destinationDutyLocation
          type: string
          description: filters the name of the destination duty location on the orders
        - in: query
          name: status
          type: array
          description: filters the status of the move
          uniqueItems: true
          items:
            type: string
            enum:
              - NEEDS SERVICE COUNSELING
              - SERVICE COUNSELING COMPLETED
        - in: query
          name: needsPPMCloseout
          type: boolean
          description: Only used for Services Counseling queue. If true, show PPM moves that are ready for closeout. Otherwise, show all other moves.
        - in: query
          name: ppmType
          type: string
          enum:
            - FULL
            - PARTIAL
          description: filters PPM type
        - in: query
          name: closeoutInitiated
          type: string
          format: date-time
          description: Latest date that closeout was initiated on a PPM on the move
        - in: query
          name: closeoutLocation
          type: string
          description: closeout location
        - in: query
          name: orderType
          type: string
          description: order type
        - in: query
          name: ppmStatus
          type: string
          enum:
            - WAITING_ON_CUSTOMER
            - NEEDS_CLOSEOUT
          description: filters the status of the PPM shipment
        - in: query
          name: viewAsGBLOC
          type: string
          description: |
            Used to return a queue for a GBLOC other than the default of the current user. Requires the HQ role. The parameter is ignored if the requesting user does not have the necessary role.
        - in: query
          name: assignedTo
          type: string
          description: |
            Used to illustrate which user is assigned to this payment request.
      responses:
        '200':
          description: Successfully returned all moves matching the criteria
          schema:
            $ref: '#/definitions/QueueMovesResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  /queues/counseling/origin-list:
    get:
      produces:
        - application/json
      summary: Gets queued list of all moves origin locations in the counselors queue
      description: >
        An office services counselor user will be assigned a transportation office that will determine which moves are displayed in their queue based on the origin duty location. This pulls the availalble origin duty locations.
      operationId: getServicesCounselingOriginList
      tags:
        - queues
      parameters:
        - in: query
          name: needsPPMCloseout
          type: boolean
          description: Only used for Services Counseling queue. If true, show PPM moves origin locations that are ready for closeout. Otherwise, show all other moves origin locations.
      responses:
        '200':
          description: Successfully returned all moves matching the criteria
          schema:
            $ref: '#/definitions/Locations'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  /queues/prime-moves:
    get:
      summary: getPrimeMovesQueue
      description: |
        Gets all moves that have been reviewed and approved by the TOO. The `since` parameter can be used to filter this
        list down to only the moves that have been updated since the provided timestamp. A move will be considered
        updated if the `updatedAt` timestamp on the move or on its orders, shipments, service items, or payment
        requests, is later than the provided date and time.

        **WIP**: Include what causes moves to leave this list. Currently, once the `availableToPrimeAt` timestamp has
        been set, that move will always appear in this list.
      operationId: listPrimeMoves
      tags:
        - queues
      produces:
        - application/json
      parameters:
        - in: query
          name: since
          type: string
          format: date-time
          description: Only return moves updated since this time. Formatted like "2021-07-23T18:30:47.116Z"
        - in: query
          name: page
          type: integer
          description: requested page of results
        - in: query
          name: perPage
          type: integer
          description: results per page
        - in: query
          name: id
          type: string
        - in: query
          name: moveCode
          type: string
        - in: query
          name: orderType
          type: string
          description: order type
      responses:
        '200':
          description: Successfully retrieved moves. A successful fetch might still return zero moves.
          schema:
            $ref: '#/definitions/ListPrimeMovesResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  /queues/moves:
    get:
      produces:
        - application/json
      summary: Gets queued list of all customer moves by GBLOC origin
      description: >
        An office TOO user will be assigned a transportation office that will determine which moves are displayed in their queue based on the origin duty location.  GHC moves will show up here onced they have reached the submitted status sent by the customer and have move task orders, shipments, and service items to approve.
      operationId: getMovesQueue
      tags:
        - queues
      parameters:
        - in: query
          name: page
          type: integer
          description: requested page of results
        - in: query
          name: perPage
          type: integer
          description: results per page
        - in: query
          name: sort
          type: string
          enum:
            [
              customerName,
              edipi,
              emplid,
              branch,
              locator,
              status,
              originDutyLocation,
              destinationDutyLocation,
              requestedMoveDate,
              appearedInTooAt,
              assignedTo,
              counselingOffice,
            ]
          description: field that results should be sorted by
        - in: query
          name: order
          type: string
          enum: [asc, desc]
          description: direction of sort order if applied
        - in: query
          name: branch
          type: string
        - in: query
          name: locator
          type: string
        - in: query
          name: customerName
          type: string
        - in: query
          name: edipi
          type: string
        - in: query
          name: emplid
          type: string
        - in: query
          name: originDutyLocation
          type: array
          uniqueItems: true
          collectionFormat: multi
          items:
            type: string
        - in: query
          name: destinationDutyLocation
          type: string
        - in: query
          name: appearedInTooAt
          type: string
          format: date-time
        - in: query
          name: requestedMoveDate
          type: string
          description: filters the requested pickup date of a shipment on the move
        - in: query
          name: status
          type: array
          description: Filtering for the status.
          uniqueItems: true
          items:
            type: string
            enum:
              - SUBMITTED
              - SERVICE COUNSELING COMPLETED
              - APPROVALS REQUESTED
        - in: query
          name: orderType
          type: string
          description: order type
        - in: query
          name: viewAsGBLOC
          type: string
          description: |
            Used to return a queue for a GBLOC other than the default of the current user. Requires the HQ role. The parameter is ignored if the requesting user does not have the necessary role.
        - in: query
          name: assignedTo
          type: string
          description: |
            Used to illustrate which user is assigned to this move.
        - in: query
          name: counselingOffice
          type: string
          description: filters using a counselingOffice name of the move
      responses:
        '200':
          description: Successfully returned all moves matching the criteria
          schema:
            $ref: '#/definitions/QueueMovesResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  /queues/payment-requests:
    get:
      produces:
        - application/json
      summary: Gets queued list of all payment requests by GBLOC origin
      description: >
        An office TIO user will be assigned a transportation office that will determine which payment requests are displayed in their queue based on the origin duty location.
      operationId: getPaymentRequestsQueue
      tags:
        - queues
      parameters:
        - in: query
          name: sort
          type: string
          enum: [customerName, locator, submittedAt, branch, status, edipi, emplid, age, originDutyLocation, assignedTo, counselingOffice]
          description: field that results should be sorted by
        - in: query
          name: order
          type: string
          enum: [asc, desc]
          description: direction of sort order if applied
        - in: query
          name: page
          type: integer
          description: requested page of results
        - in: query
          name: perPage
          type: integer
          description: number of records to include per page
        - in: query
          name: submittedAt
          type: string
          format: date-time
          description: Start of the submitted at date in the user's local time zone converted to UTC
        - in: query
          name: branch
          type: string
        - in: query
          name: locator
          type: string
        - in: query
          name: customerName
          type: string
        - in: query
          name: edipi
          type: string
        - in: query
          name: emplid
          type: string
        - in: query
          name: destinationDutyLocation
          type: string
        - in: query
          name: originDutyLocation
          type: string
        - in: query
          name: assignedTo
          type: string
          description: |
            Used to illustrate which user is assigned to this payment request.
        - in: query
          name: counselingOffice
          type: string
          description: filters using a counselingOffice name of the move
        - in: query
          name: status
          type: array
          description: Filtering for the status.
          uniqueItems: true
          items:
            type: string
            enum:
              - PENDING
              - REVIEWED
              - REVIEWED_AND_ALL_SERVICE_ITEMS_REJECTED
              - PAID
              - DEPRECATED
              - EDI_ERROR
        - in: query
          name: orderType
          type: string
          description: order type
        - in: query
          name: viewAsGBLOC
          type: string
          description: |
            Used to return a queue for a GBLOC other than the default of the current user. Requires the HQ role. The parameter is ignored if the requesting user does not have the necessary role.
      responses:
        '200':
          description: Successfully returned all moves matching the criteria
          schema:
            $ref: '#/definitions/QueuePaymentRequestsResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  /moves/search:
    post:
      produces:
        - application/json
      consumes:
        - application/json
      summary: Search moves by locator, DOD ID, or customer name
      description: >
        Search moves by locator, DOD ID, or customer name. Used by QAE and CSR users.
      operationId: searchMoves
      tags:
        - move
      parameters:
        - in: body
          name: body
          schema:
            properties:
              page:
                type: integer
                description: requested page of results
              perPage:
                type: integer
              locator:
                description: Move locator
                type: string
                minLength: 6
                maxLength: 6
                x-nullable: true
              edipi:
                description: DOD ID
                type: string
                minLength: 10
                maxLength: 10
                x-nullable: true
              emplid:
                description: EMPLID
                type: string
                minLength: 7
                maxLength: 7
                x-nullable: true
              customerName:
                description: Customer Name
                type: string
                minLength: 1
                x-nullable: true
              paymentRequestCode:
                type: string
                example: 9551-6199-2
                x-nullable: true
              status:
                type: array
                description: Filtering for the status.
                uniqueItems: true
                items:
                  type: string
                  enum:
                    - DRAFT
                    - SUBMITTED
                    - APPROVALS REQUESTED
                    - APPROVED
                    - NEEDS SERVICE COUNSELING
                    - SERVICE COUNSELING COMPLETED
                    - CANCELED
              originPostalCode:
                type: string
                x-nullable: true
              destinationPostalCode:
                type: string
                x-nullable: true
              branch:
                type: string
                x-nullable: true
              shipmentsCount:
                type: integer
                x-nullable: true
              pickupDate:
                type: string
                format: date-time
                x-nullable: true
              deliveryDate:
                type: string
                format: date-time
                x-nullable: true
              sort:
                type: string
                x-nullable: true
                enum:
                  [
                    customerName,
                    edipi,
                    emplid,
                    branch,
                    locator,
                    status,
                    originPostalCode,
                    destinationPostalCode,
                    shipmentsCount,
                  ]
              order:
                type: string
                x-nullable: true
                enum: [asc, desc]
          description: field that results should be sorted by
      responses:
        '200':
          description: Successfully returned all moves matching the criteria
          schema:
            $ref: '#/definitions/SearchMovesResult'
        '403':
          $ref: '#/responses/PermissionDenied'
        '500':
          $ref: '#/responses/ServerError'
  '/tac/valid':
    get:
      summary: Validation of a TAC value
      description: Returns a boolean based on whether a tac value is valid or not
      operationId: tacValidation
      tags:
        - tac
        - order
      parameters:
        - in: query
          name: tac
          type: string
          required: true
          description: The tac value to validate
      responses:
        '200':
          description: Successfully retrieved validation status
          schema:
            $ref: '#/definitions/TacValid'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /lines-of-accounting:
    post:
      summary: 'Fetch line of accounting'
      description: >
        Fetches a line of accounting based on provided service member affiliation, effective date, and Transportation Accounting Code (TAC).
        It uses these parameters to filter the correct Line of Accounting for the provided TAC. It does this by filtering
        through both TAC and LOAs based on the provided code and effective date. The 'Effective Date' is the date
        that can be either the orders issued date (For HHG shipments), MTO approval date (For NTS shipments),
        or even the current date for NTS shipments with no approval yet (Just providing a preview to the office users per customer request).
        Effective date is used to find "Active" TGET data by searching for the TACs and LOAs with begin and end dates containing this date.
      operationId: requestLineOfAccounting
      tags:
        - linesOfAccounting
      consumes:
        - 'application/json'
      produces:
        - 'application/json'
      parameters:
        - in: 'body'
          name: 'body'
          description: 'Service member affiliation, effective date, and TAC code.'
          required: true
          schema:
            $ref: '#/definitions/FetchLineOfAccountingPayload'
      responses:
        '200':
          description: 'Successfully retrieved line of accounting'
          schema:
            $ref: 'definitions/LineOfAccounting.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '422':
          $ref: '#/responses/UnprocessableEntity'
        '500':
          $ref: '#/responses/ServerError'
  /transportation-offices:
    get:
      produces:
        - application/json
      summary: Returns the transportation offices matching the search query that is enabled for PPM closeout
      description: Returns the transportation offices matching the search query that is enabled for PPM closeout
      operationId: getTransportationOffices
      tags:
        - transportationOffice
      parameters:
        - in: query
          name: search
          type: string
          required: true
          minLength: 2
          description: Search string for transportation offices
      responses:
        '200':
          description: Successfully retrieved transportation offices
          schema:
            $ref: '#/definitions/TransportationOffices'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /open/transportation-offices:
    get:
      produces:
        - application/json
      summary: Returns the transportation offices matching the search query
      description: This endpoint is publicly accessible as it is utilized to access transportation office information without having an office account.Returns the transportation offices matching the search query.
      operationId: getTransportationOfficesOpen
      tags:
        - transportationOffice
      parameters:
        - in: query
          name: search
          type: string
          required: true
          minLength: 2
          description: Search string for transportation offices
      responses:
        '200':
          description: Successfully retrieved transportation offices
          schema:
            $ref: '#/definitions/TransportationOffices'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /transportation-offices/gblocs:
    get:
      produces:
        - application/json
      summary: Returns a list of distinct GBLOCs that exist in the transportation offices table
      description: Returns a list of distinct GBLOCs that exist in the transportation offices table
      operationId: getTransportationOfficesGBLOCs
      tags:
        - transportationOffice
      responses:
        '200':
          description: Successfully retrieved transportation offices
          schema:
            $ref: '#/definitions/GBLOCs'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /addresses/zip_city_lookup/{search}:
    get:
      summary: Returns City, State, Postal Code, and County associated with the specified full/partial Postal Code or City and State string
      description: Find by API using full/partial Postal Code or City name that returns an us_post_region_cities json object containing city, state, county and postal code.
      operationId: getLocationByZipCityState
      tags:
        - addresses
      parameters:
      - in: path
        name: search
        type: string
        required: true
      responses:
        "200":
          description: the requested list of city, state, county, and postal code matches
          schema:
            $ref: "#/definitions/VLocations"
        "400":
          description: invalid request
        "403":
          description: not authorized
        "404":
          description: not found
        "500":
          description: server error
  /uploads:
    post:
      summary: Create a new upload
      description: Uploads represent a single digital file, such as a JPEG or PDF. Currently, office application uploads are only for Services Counselors to upload files for orders, but this may be expanded in the future.
      operationId: createUpload
      tags:
        - uploads
      consumes:
        - multipart/form-data
      produces:
        - application/json
      parameters:
        - in: query
          name: documentId
          type: string
          format: uuid
          required: false
          description: UUID of the document to add an upload to
        - in: formData
          name: file
          type: file
          description: The file to upload.
          required: true
      responses:
        '201':
          description: created upload
          schema:
            $ref: 'definitions/Upload.yaml'
        '400':
          description: invalid request
        '403':
          description: not authorized
        '404':
          description: not found
        '413':
          description: payload is too large
        '500':
          description: server error
  /re-service-items:
    get:
      summary: Returns all ReServiceItems (Service Code, Service Name, Market, Shipment Type, Auto Approved)
      description: Get ReServiceItems
      produces:
        - application/json
      operationId: getAllReServiceItems
      tags:
        - reServiceItems
      responses:
        '200':
          description: Successfully retrieved all ReServiceItems.
          schema:
            $ref: '#/definitions/ReServiceItems'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /uploads/{uploadID}:
    delete:
      summary: Deletes an upload
      description: Uploads represent a single digital file, such as a JPEG or PDF.
      operationId: deleteUpload
      tags:
        - uploads
      parameters:
        - in: path
          name: uploadID
          type: string
          format: uuid
          required: true
          description: UUID of the upload to be deleted
        - in: query
          name: orderID
          type: string
          format: uuid
          description: ID of the order that the upload belongs to
      responses:
        '204':
          description: deleted
        '400':
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        '403':
          description: not authorized
        '404':
          description: not found
        '500':
          description: server error
  /uploads/get/:
    get:
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: Successfully retrieved upload
          schema:
            $ref: 'definitions/Upload.yaml'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '403':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - uploads
      description: Gets an upload
      operationId: getUpload
      summary: Gets an upload by ID
  /uploads/{uploadID}/update:
    patch:
      summary: Update an existing upload. This is only needed currently for updating the image rotation.
      description: Uploads represent a single digital file, such as a JPEG or PDF. The rotation is relevant to how it is displayed on the page.
      operationId: updateUpload
      tags:
        - uploads
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: uploadID
          type: string
          format: uuid
          required: true
          description: UUID of the upload to be updated
        - in: body
          name: body
          required: true
          schema:
            properties:
              rotation:
                type: integer
                description: The rotation of the image
                minimum: 0
                maximum: 3
      responses:
        '201':
          description: updated upload
          schema:
            $ref: 'definitions/Upload.yaml'
        '400':
          description: invalid request
        '403':
          description: not authorized
        '404':
          description: not found
        '413':
          description: payload is too large
        '500':
          description: server error
  /application_parameters/{parameterName}:
    get:
      summary: Searches for an application parameter by name, returns nil if not found
      description: Searches for an application parameter by name, returns nil if not found
      operationId: getParam
      tags:
        - application_parameters
      parameters:
        - in: path
          name: parameterName
          type: string
          format: string
          required: true
          description: Parameter Name
      responses:
        '200':
          description: Application Parameters
          schema:
            $ref: '#/definitions/ApplicationParameters'
        '400':
          description: invalid request
        '401':
          description: request requires user authentication
        '500':
          description: server error
  /calendar/{countryCode}/is-weekend-holiday/{date}:
    get:
      summary: Validate  move date selection
      description: |
        Utility API to determine if input date falls on weekend and/or holiday.
      produces:
        - application/json
      operationId: isDateWeekendHoliday
      tags:
        - calendar
      parameters:
        - description: country code for context of date
          in: path
          name: countryCode
          required: true
          type: string
          enum:
            - US
        - description: input date to determine if weekend/holiday for given country.
          in: path
          name: date
          required: true
          type: string
          format: date
      responses:
        '200':
          description: Successfully determine if given date is weekend and/or holiday for given country.
          schema:
            $ref: '#/definitions/IsDateWeekendHolidayInfo'
        '400':
          $ref: '#/responses/InvalidRequest'
        '401':
          $ref: '#/responses/PermissionDenied'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
  /moves/{moveID}/assignOfficeUser:
    parameters:
      - description: ID of the move
        in: path
        name: moveID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/AssignOfficeUserBody'
      responses:
        '200':
          description: Successfully assigned office user to the move
          schema:
            $ref: '#/definitions/Move'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: assigns either a services counselor, task ordering officer, or task invoicing officer to the move
      operationId: updateAssignedOfficeUser
  /moves/{moveID}/unassignOfficeUser:
    parameters:
      - description: ID of the move
        in: path
        name: moveID
        required: true
        format: uuid
        type: string
      - in: body
        name: body
        schema:
          properties:
            roleType:
              type: string
          required:
            - roleType
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          description: Successfully unassigned office user from the move
          schema:
            $ref: '#/definitions/Move'
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: unassigns either a services counselor, task ordering officer, or task invoicing officer from the move
      operationId: deleteAssignedOfficeUser
  /moves/{officeUserID}/CheckForLockedMovesAndUnlock:
    parameters:
      - description: ID of the move's officer
        in: path
        name: officeUserID
        required: true
        format: uuid
        type: string
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          description: Successfully unlocked officer's move(s).
          schema:
            type: object
            properties:
              successMessage:
                type: string
                example: OK
        '500':
          $ref: '#/responses/ServerError'
      tags:
        - move
      description: >-
        Finds and unlocks any locked moves by an office user
      operationId: checkForLockedMovesAndUnlock
definitions:
  ApplicationParameters:
    type: object
    properties:
      validationCode:
        type: string
        format: string
        x-nullable: true
      parameterName:
        type: string
        format: string
        x-nullable: true
      parameterValue:
        type: string
        format: string
        x-nullable: true
  PostDocumentPayload:
    type: object
    properties:
      service_member_id:
        type: string
        format: uuid
        title: The service member this document belongs to
  InvalidRequestResponsePayload:
    type: object
    properties:
      errors:
        type: object
        additionalProperties:
          type: string
  ClientError:
    type: object
    properties:
      title:
        type: string
      detail:
        type: string
      instance:
        type: string
        format: uuid
    required:
      - title
      - detail
      - instance
  ValidationError:
    allOf:
      - $ref: '#/definitions/ClientError'
      - type: object
    properties:
      invalid_fields:
        type: object
        additionalProperties:
          type: string
    required:
      - invalid_fields
  BackupContact:
    type: object
    properties:
      name:
        type: string
      email:
        type: string
        format: x-email
        example: backupContact@mail.com
      phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
    required:
      - name
      - email
      - phone
  Contractor:
    properties:
      contractNumber:
        type: string
      id:
        format: uuid
        type: string
      name:
        type: string
      type:
        type: string
  Role:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      roleType:
        type: string
        example: customer
      roleName:
        type: string
        example: Task Ordering Officer
      createdAt:
        type: string
        format: date-time
        readOnly: true
      updatedAt:
        type: string
        format: date-time
        readOnly: true
    required:
      - id
      - roleType
      - roleName
      - createdAt
      - updatedAt
  OfficeUser:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      userId:
        type: string
        format: uuid
      firstName:
        type: string
      middleInitials:
        type: string
      lastName:
        type: string
      email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
      telephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
      transportationOfficeId:
        type: string
        format: uuid
      transportationOffice:
        $ref: 'definitions/TransportationOffice.yaml'
      transportationOfficeAssignments:
        type: array
        items:
          $ref: 'definitions/TransportationOfficeAssignment.yaml'
      active:
        type: boolean
      roles:
        type: array
        items:
          $ref: '#/definitions/Role'
      edipi:
        type: string
      otherUniqueId:
        type: string
      rejectionReason:
        type: string
      status:
        type: string
        enum:
          - APPROVED
          - REQUESTED
          - REJECTED
      createdAt:
        type: string
        format: date-time
        readOnly: true
      updatedAt:
        type: string
        format: date-time
        readOnly: true
    required:
      - id
      - firstName
      - middleInitials
      - lastName
      - email
      - telephone
      - transportationOfficeId
      - active
      - roles
      - edipi
      - otherUniqueId
      - rejectionReason
      - status
      - createdAt
      - updatedAt
  LockedOfficeUser:
    type: object
    properties:
      firstName:
        type: string
      lastName:
        type: string
      transportationOfficeId:
        type: string
        format: uuid
      transportationOffice:
        $ref: 'definitions/TransportationOffice.yaml'
  OfficeUserCreate:
    type: object
    properties:
      email:
        type: string
        example: 'user@userdomain.com'
        title: Email
        x-nullable: false
      edipi:
        type: string
        example: '1234567890'
        maxLength: 10
        title: EDIPI
        x-nullable: true
      otherUniqueId:
        type: string
        title: Office user identifier when EDIPI is not available
        x-nullable: true
      firstName:
        type: string
        title: First Name
        x-nullable: false
      middleInitials:
        type: string
        example: L.
        x-nullable: true
        title: Middle Initials
      lastName:
        type: string
        title: Last Name
        x-nullable: false
      telephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 212-555-5555
        x-nullable: false
      transportationOfficeId:
        type: string
        format: uuid
        example: 'c56a4180-65aa-42ec-a945-5fd21dec0538'
        x-nullable: false
      roles:
        type: array
        items:
          $ref: '#/definitions/OfficeUserRole'
        x-nullable: false
    required:
      - firstName
      - lastName
      - email
      - telephone
      - transportationOfficeId
      - roles
  OfficeUserRole:
    type: object
    properties:
      name:
        type: string
        example: 'Task Ordering Officer'
        x-nullable: true
        title: name
      roleType:
        type: string
        example: 'task_ordering_officer'
        x-nullable: true
        title: roleType
  Customer:
    type: object
    properties:
      agency:
        type: string
        title: Agency customer is affilated with
      first_name:
        type: string
        example: John
      last_name:
        type: string
        example: Doe
      phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        x-nullable: true
      suffix:
        type: string
        example: Jr.
        x-nullable: true
      middle_name:
        type: string
        example: David
        x-nullable: true
      current_address:
        $ref: 'definitions/Address.yaml'
      backup_contact:
        $ref: '#/definitions/BackupContact'
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      edipi:
        type: string
      userID:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      eTag:
        type: string
      phoneIsPreferred:
        type: boolean
      emailIsPreferred:
        type: boolean
      secondaryTelephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$|^$'
        x-nullable: true
      backupAddress:
        $ref: 'definitions/Address.yaml'
      cacValidated:
        type: boolean
        x-nullable: true
      emplid:
        type: string
        x-nullable: true
  CreatedCustomer:
    type: object
    properties:
      affiliation:
        type: string
        title: Branch of service customer is affilated with
      firstName:
        type: string
        example: John
      lastName:
        type: string
        example: Doe
      telephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      personalEmail:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
      suffix:
        type: string
        example: Jr.
        x-nullable: true
      middleName:
        type: string
        example: David
        x-nullable: true
      residentialAddress:
        $ref: 'definitions/Address.yaml'
      backupContact:
        $ref: '#/definitions/BackupContact'
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      edipi:
        type: string
        x-nullable: true
      userID:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      oktaID:
        type: string
      oktaEmail:
        type: string
      phoneIsPreferred:
        type: boolean
      emailIsPreferred:
        type: boolean
      secondaryTelephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      backupAddress:
        $ref: 'definitions/Address.yaml'
      cacValidated:
        type: boolean
  UpdateCustomerPayload:
    type: object
    properties:
      first_name:
        type: string
        example: John
      last_name:
        type: string
        example: Doe
      phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        x-nullable: true
      suffix:
        type: string
        example: Jr.
        x-nullable: true
      middle_name:
        type: string
        example: David
        x-nullable: true
      current_address:
        allOf:
          - $ref: 'definitions/Address.yaml'
      backup_contact:
        $ref: '#/definitions/BackupContact'
      phoneIsPreferred:
        type: boolean
      emailIsPreferred:
        type: boolean
      secondaryTelephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$|^$'
        x-nullable: true
      backupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      cac_validated:
        type: boolean
  CreateCustomerPayload:
    type: object
    properties:
      affiliation:
        $ref: 'definitions/Affiliation.yaml'
      edipi:
        type: string
        example: '1234567890'
        maxLength: 10
        x-nullable: false
      emplid:
        type: string
        example: '9485155'
        maxLength: 7
        x-nullable: true
      firstName:
        type: string
        example: John
      middleName:
        type: string
        example: David
        x-nullable: true
      lastName:
        type: string
        example: Doe
      suffix:
        type: string
        example: Jr.
        x-nullable: true
      telephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      secondaryTelephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      personalEmail:
        type: string
        format: x-email
        example: personalEmail@email.com
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
      phoneIsPreferred:
        type: boolean
      emailIsPreferred:
        type: boolean
      residentialAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      backupContact:
        $ref: '#/definitions/BackupContact'
      backupMailingAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      createOktaAccount:
        type: boolean
      cacUser:
        type: boolean
  FetchLineOfAccountingPayload:
    type: object
    properties:
      departmentIndicator:
        $ref: 'definitions/DepartmentIndicator.yaml'
      effectiveDate:
        description: >
          The effective date for the Line Of Accounting (LOA) being fetched. Eg, the orders issue date or the Non-Temporary Storage (NTS) Move Task Order (MTO) approval date.
          Effective date is used to find "Active" TGET data by searching for the TACs and LOAs with begin and end dates containing this date.
          The 'Effective Date' is the date that can be either the orders issued date (For HHG shipments),
          MTO approval date (For NTS shipments), or even the current date for NTS
          shipments with no approval yet (Just providing a preview to the office
          users per customer request).
        type: string
        format: date
        example: '2023-01-01'
      tacCode:
        type: string
        minLength: 4
        maxLength: 4
        example: 'F8J1'
  SearchCustomersResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      searchCustomers:
        $ref: '#/definitions/SearchCustomers'
  SearchCustomers:
    type: array
    items:
      $ref: '#/definitions/SearchCustomer'
  SearchCustomer:
    type: object
    properties:
      id:
        type: string
        format: uuid
      firstName:
        type: string
        example: John
        x-nullable: true
      lastName:
        type: string
        example: Doe
        x-nullable: true
      edipi:
        type: string
        x-nullable: true
      emplid:
        type: string
        x-nullable: true
      branch:
        type: string
      telephone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      personalEmail:
        type: string
        format: x-email
        example: personalEmail@email.com
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        x-nullable: true
  Entitlements:
    properties:
      id:
        example: 571008b1-b0de-454d-b843-d71be9f02c04
        format: uuid
        type: string
      authorizedWeight:
        example: 2000
        type: integer
        x-formatting: weight
        x-nullable: true
      dependentsAuthorized:
        example: true
        type: boolean
        x-nullable: true
      gunSafe:
        type: boolean
        example: false
      nonTemporaryStorage:
        example: false
        type: boolean
        x-nullable: true
      privatelyOwnedVehicle:
        example: false
        type: boolean
        x-nullable: true
      proGearWeight:
        example: 2000
        type: integer
        x-formatting: weight
      proGearWeightSpouse:
        example: 500
        type: integer
        x-formatting: weight
      storageInTransit:
        example: 90
        type: integer
        x-nullable: true
      totalWeight:
        example: 500
        type: integer
        x-formatting: weight
      totalDependents:
        example: 2
        type: integer
      requiredMedicalEquipmentWeight:
        example: 500
        type: integer
        x-formatting: weight
      organizationalClothingAndIndividualEquipment:
        example: true
        type: boolean
      accompaniedTour:
        type: boolean
        example: true
        x-nullable: true
        description: Indicates if the move entitlement allows dependents to travel to the new Permanent Duty Station (PDS). This is only present on OCONUS moves.
      unaccompaniedBaggageAllowance:
        type: integer
        example: 3
        x-nullable: true
        description: The amount of weight in pounds that the move is entitled for shipment types of Unaccompanied Baggage.
      dependentsUnderTwelve:
        type: integer
        example: 5
        x-nullable: true
        description: Indicates the number of dependents under the age of twelve for a move. This is only present on OCONUS moves.
      dependentsTwelveAndOver:
        type: integer
        example: 3
        x-nullable: true
        description: Indicates the number of dependents of the age twelve or older for a move. This is only present on OCONUS moves.
      eTag:
        type: string
    type: object
  Error:
    properties:
      message:
        type: string
    required:
      - message
    type: object
  Grade:
    type: string
    x-nullable: true
    title: grade
    enum:
      - E_1
      - E_2
      - E_3
      - E_4
      - E_5
      - E_6
      - E_7
      - E_8
      - E_9
      - E_9_SPECIAL_SENIOR_ENLISTED
      - O_1_ACADEMY_GRADUATE
      - O_2
      - O_3
      - O_4
      - O_5
      - O_6
      - O_7
      - O_8
      - O_9
      - O_10
      - W_1
      - W_2
      - W_3
      - W_4
      - W_5
      - AVIATION_CADET
      - CIVILIAN_EMPLOYEE
      - ACADEMY_CADET
      - MIDSHIPMAN
    x-display-value:
      E_1: E-1
      E_2: E-2
      E_3: E-3
      E_4: E-4
      E_5: E-5
      E_6: E-6
      E_7: E-7
      E_8: E-8
      E_9: E-9
      E_9_SPECIAL_SENIOR_ENLISTED: E-9 (Special Senior Enlisted)
      O_1_ACADEMY_GRADUATE: O-1 or Service Academy Graduate
      O_2: O-2
      O_3: O-3
      O_4: O-4
      O_5: O-5
      O_6: O-6
      O_7: O-7
      O_8: O-8
      O_9: O-9
      O_10: O-10
      W_1: W-1
      W_2: W-2
      W_3: W-3
      W_4: W-4
      W_5: W-5
      AVIATION_CADET: Aviation Cadet
      CIVILIAN_EMPLOYEE: Civilian Employee
      ACADEMY_CADET: Service Academy Cadet
      MIDSHIPMAN: Midshipman
  Move:
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      serviceCounselingCompletedAt:
        format: date-time
        type: string
        x-nullable: true
      availableToPrimeAt:
        format: date-time
        type: string
        x-nullable: true
      approvedAt:
        format: date-time
        type: string
        x-nullable: true
      billableWeightsReviewedAt:
        format: date-time
        type: string
        x-nullable: true
      contractorId:
        type: string
        format: uuid
        x-nullable: true
      contractor:
        $ref: '#/definitions/Contractor'
      locator:
        type: string
        example: '1K43AR'
      ordersId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      orders:
        $ref: '#/definitions/Order'
      referenceId:
        example: 1001-3456
        type: string
        x-nullable: true
      status:
        $ref: '#/definitions/MoveStatus'
      excess_weight_qualified_at:
        type: string
        format: date-time
        description: Timestamp of when the estimated shipment weights of the move reached 90% of the weight allowance
        x-nullable: true
      excess_weight_acknowledged_at:
        type: string
        format: date-time
        description: Timestamp of when the TOO acknowledged the excess weight risk by either dismissing the alert or updating the max billable weight
        x-nullable: true
      tioRemarks:
        type: string
        example: approved additional weight
        x-nullable: true
      financialReviewFlag:
        type: boolean
        example: false
        description: This flag is set by office users if a move should be reviewed by a Financial Office
        x-nullable: false
        readOnly: true
      financialReviewRemarks:
        type: string
        example: Destination address is too far from duty location
        x-nullable: true
        readOnly: true
      closeoutOffice:
        $ref: 'definitions/TransportationOffice.yaml'
      closeoutOfficeId:
        type: string
        format: uuid
        description: The transportation office that will handle reviewing PPM Closeout documentation for Army and Air Force service members
        x-nullable: true
      approvalsRequestedAt:
        type: string
        format: date-time
        description: The time at which a move is sent back to the TOO becuase the prime added a new service item for approval
        x-nullable: true
      createdAt:
        type: string
        format: date-time
      submittedAt:
        type: string
        format: date-time
        x-nullable: true
      updatedAt:
        type: string
        format: date-time
      eTag:
        type: string
      shipmentGBLOC:
        $ref: '#/definitions/GBLOC'
      lockedByOfficeUserID:
        type: string
        format: uuid
        x-nullable: true
      lockedByOfficeUser:
        $ref: '#/definitions/LockedOfficeUser'
        x-nullable: true
      lockExpiresAt:
        type: string
        format: date-time
        x-nullable: true
      additionalDocuments:
        $ref: 'definitions/Document.yaml'
      SCAssignedUser:
        $ref: '#/definitions/AssignedOfficeUser'
      TOOAssignedUser:
        $ref: '#/definitions/AssignedOfficeUser'
      TIOAssignedUser:
        $ref: '#/definitions/AssignedOfficeUser'
  MoveHistory:
    properties:
      id:
        description: move ID
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      historyRecords:
        description: A list of MoveAuditHistory's connected to the move.
        $ref: '#/definitions/MoveAuditHistories'
      locator:
        description: move locator
        type: string
        example: '1K43AR'
      referenceId:
        description: move referenceID
        example: 1001-3456
        type: string
        x-nullable: true
  MoveHistoryResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      id:
        description: move ID
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      historyRecords:
        description: A list of MoveAuditHistory's connected to the move.
        $ref: '#/definitions/MoveAuditHistories'
      locator:
        description: move locator
        type: string
        example: '1K43AR'
      referenceId:
        description: move referenceID
        example: 1001-3456
        type: string
        x-nullable: true
  MoveAuditHistories:
    type: array
    items:
      $ref: '#/definitions/MoveAuditHistory'
  MoveAuditHistory:
    properties:
      id:
        description: id from audity_history table
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      schemaName:
        description: Database schema audited table for this event is in
        type: string
      tableName:
        description: name of database table that was changed
        type: string
      relId:
        description: relation OID. Table OID (object identifier). Changes with drop/create.
        type: integer
      objectId:
        description: id column for the tableName where the data was changed
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
        x-nullable: true
      sessionUserId:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
        x-nullable: true
      sessionUserFirstName:
        example: foo
        type: string
        x-nullable: true
      sessionUserLastName:
        example: bar
        type: string
        x-nullable: true
      sessionUserEmail:
        example: foobar@example.com
        type: string
        x-nullable: true
      sessionUserTelephone:
        format: telephone
        type: string
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        x-nullable: true
      context:
        type: array
        items:
          type: object
          additionalProperties:
            type: string
        x-nullable: true
      contextId:
        description: id column for the context table the record belongs to
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        type: string
        x-nullable: true
      eventName:
        description: API endpoint name that was called to make the change
        type: string
        x-nullable: true
      actionTstampTx:
        description: Transaction start timestamp for tx in which audited event occurred
        type: string
        format: date-time
      actionTstampStm:
        description: Statement start timestamp for tx in which audited event occurred
        type: string
        format: date-time
      actionTstampClk:
        description: Wall clock time at which audited event's trigger call occurred
        type: string
        format: date-time
      transactionId:
        description: Identifier of transaction that made the change. May wrap, but unique paired with action_tstamp_tx.
        type: integer
        x-nullable: true
      action:
        description: Action type; I = insert, D = delete, U = update, T = truncate
        type: string
      oldValues:
        description: A list of (old/previous) MoveAuditHistoryItem's for a record before the change.
        type: object
        additionalProperties: true
        x-nullable: true
      changedValues:
        description: A list of (changed/updated) MoveAuditHistoryItem's for a record after the change.
        type: object
        additionalProperties: true
        x-nullable: true
      statementOnly:
        description: true if audit event is from an FOR EACH STATEMENT trigger, false for FOR EACH ROW'
        type: boolean
        example: false
  MoveAuditHistoryItems:
    type: array
    items:
      $ref: '#/definitions/MoveAuditHistoryItem'
  MoveAuditHistoryItem:
    properties:
      columnName:
        type: string
      columnValue:
        type: string
  MoveStatus:
    type: string
    enum:
      - DRAFT
      - NEEDS SERVICE COUNSELING
      - SERVICE COUNSELING COMPLETED
      - SUBMITTED
      - APPROVALS REQUESTED
      - APPROVED
      - CANCELED
  PPMStatus:
    type: string
    enum:
      - CANCELED
      - DRAFT
      - SUBMITTED
      - WAITING_ON_CUSTOMER
      - NEEDS_ADVANCE_APPROVAL
      - NEEDS_CLOSEOUT
      - CLOSEOUT_COMPLETE
      - COMPLETED
  DeptIndicator:
    type: string
    title: Dept. indicator
    x-nullable: true
    enum:
      - NAVY_AND_MARINES
      - ARMY
      - ARMY_CORPS_OF_ENGINEERS
      - AIR_AND_SPACE_FORCE
      - COAST_GUARD
      - OFFICE_OF_SECRETARY_OF_DEFENSE
    x-display-value:
      NAVY_AND_MARINES: 17 Navy and Marine Corps
      ARMY: 21 Army
      ARMY_CORPS_OF_ENGINEERS: 96 Army Corps of Engineers
      AIR_AND_SPACE_FORCE: 57 Air Force and Space Force
      COAST_GUARD: 70 Coast Guard
      OFFICE_OF_SECRETARY_OF_DEFENSE: 97 Office of the Secretary of Defense
  OrdersTypeDetail:
    type: string
    title: Orders type detail
    x-nullable: true
    enum:
      - HHG_PERMITTED
      - PCS_TDY
      - HHG_RESTRICTED_PROHIBITED
      - HHG_RESTRICTED_AREA
      - INSTRUCTION_20_WEEKS
      - HHG_PROHIBITED_20_WEEKS
      - DELAYED_APPROVAL
    x-display-value:
      HHG_PERMITTED: Shipment of HHG Permitted
      PCS_TDY: PCS with TDY Enroute
      HHG_RESTRICTED_PROHIBITED: Shipment of HHG Restricted or Prohibited
      HHG_RESTRICTED_AREA: HHG Restricted Area-HHG Prohibited
      INSTRUCTION_20_WEEKS: Course of Instruction 20 Weeks or More
      HHG_PROHIBITED_20_WEEKS: Shipment of HHG Prohibited but Authorized within 20 weeks
      DELAYED_APPROVAL: Delayed Approval 20 Weeks or More
  Order:
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      customerID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      customer:
        $ref: '#/definitions/Customer'
      moveCode:
        type: string
        example: 'H2XFJF'
      first_name:
        type: string
        example: John
        readOnly: true
      last_name:
        type: string
        example: Doe
        readOnly: true
      grade:
        $ref: '#/definitions/Grade'
      agency:
        $ref: 'definitions/Affiliation.yaml'
      entitlement:
        $ref: '#/definitions/Entitlements'
      destinationDutyLocation:
        $ref: 'definitions/DutyLocation.yaml'
      destinationDutyLocationGBLOC:
        $ref: '#/definitions/GBLOC'
      originDutyLocation:
        $ref: 'definitions/DutyLocation.yaml'
      originDutyLocationGBLOC:
        $ref: '#/definitions/GBLOC'
      moveTaskOrderID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      uploaded_order_id:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      uploadedAmendedOrderID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
        x-nullable: true
      amendedOrdersAcknowledgedAt:
        type: string
        format: date-time
        x-nullable: true
      order_number:
        type: string
        x-nullable: true
        example: '030-00362'
      order_type:
        $ref: 'definitions/OrdersType.yaml'
      order_type_detail:
        $ref: '#/definitions/OrdersTypeDetail'
        x-nullable: true
      date_issued:
        type: string
        format: date
        example: '2020-01-01'
      report_by_date:
        type: string
        format: date
        example: '2020-01-01'
      department_indicator:
        $ref: '#/definitions/DeptIndicator'
        x-nullable: true
      tac:
        type: string
        title: TAC
        example: 'F8J1'
        x-nullable: true
      sac:
        type: string
        title: SAC
        example: 'N002214CSW32Y9'
        x-nullable: true
      ntsTac:
        type: string
        title: NTS TAC
        example: 'F8J1'
        x-nullable: true
      ntsSac:
        type: string
        title: NTS SAC
        example: 'N002214CSW32Y9'
        x-nullable: true
      has_dependents:
        type: boolean
        example: false
        title: Are dependents included in your orders?
      spouse_has_pro_gear:
        type: boolean
        example: false
        title: Do you have a spouse who will need to move items related to their occupation (also known as spouse pro-gear)?
      supplyAndServicesCostEstimate:
        type: string
      packingAndShippingInstructions:
        type: string
      methodOfPayment:
        type: string
      naics:
        type: string
      orders_type:
        $ref: 'definitions/OrdersType.yaml'
      eTag:
        type: string
    type: object
  Location:
    type: object
    properties:
      label:
        type: string
        example: Label for display
      value:
        type: string
        example: Value for location
    required:
      - label
      - value
  Locations:
    type: array
    items:
      $ref: '#/definitions/Location'
  OrderBody:
    type: object
    properties:
      id:
        type: string
        format: uuid
  CreateOrders:
    type: object
    properties:
      serviceMemberId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      issueDate:
        type: string
        description: The date and time that these orders were cut.
        format: date
        title: Orders date
      reportByDate:
        type: string
        description: Report By Date
        format: date
        title: Report-by date
      ordersType:
        $ref: 'definitions/OrdersType.yaml'
      ordersTypeDetail:
        $ref: '#/definitions/OrdersTypeDetail'
      hasDependents:
        type: boolean
        title: Are dependents included in your orders?
      spouseHasProGear:
        type: boolean
        title: Do you have a spouse who will need to move items related to their occupation (also known as spouse pro-gear)?
      newDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      ordersNumber:
        type: string
        title: Orders Number
        x-nullable: true
        example: '030-00362'
      tac:
        type: string
        title: TAC
        example: 'F8J1'
        x-nullable: true
      sac:
        type: string
        title: SAC
        example: 'N002214CSW32Y9'
        x-nullable: true
      departmentIndicator:
        $ref: '#/definitions/DeptIndicator'
      grade:
        $ref: '#/definitions/Grade'
      originDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      accompaniedTour:
        type: boolean
        example: true
        x-nullable: true
        description: Indicates if the move entitlement allows dependents to travel to the new Permanent Duty Station (PDS). This is only present on OCONUS moves.
      dependentsUnderTwelve:
        type: integer
        example: 5
        x-nullable: true
        description: Indicates the number of dependents under the age of twelve for a move. This is only present on OCONUS moves.
      dependentsTwelveAndOver:
        type: integer
        example: 3
        x-nullable: true
        description: Indicates the number of dependents of the age twelve or older for a move. This is only present on OCONUS moves.
    required:
      - serviceMemberId
      - issueDate
      - reportByDate
      - ordersType
      - hasDependents
      - spouseHasProGear
      - newDutyLocationId
  CounselingUpdateOrderPayload:
    type: object
    properties:
      issueDate:
        type: string
        description: The date and time that these orders were cut.
        format: date
        example: '2018-04-26'
        title: Orders date
      reportByDate:
        type: string
        description: Report By Date
        format: date
        example: '2018-04-26'
        title: Report-by date
      ordersType:
        $ref: 'definitions/OrdersType.yaml'
      ordersTypeDetail:
        $ref: '#/definitions/OrdersTypeDetail'
      ordersNumber:
        type: string
        title: Orders Number
        x-nullable: true
        example: '030-00362'
      departmentIndicator:
        $ref: '#/definitions/DeptIndicator'
        x-nullable: true
      originDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      newDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      tac:
        type: string
        title: HHG TAC
        minLength: 4
        maxLength: 4
        example: 'F8J1'
        x-nullable: true
      sac:
        title: HHG SAC
        example: 'N002214CSW32Y9'
        $ref: definitions/NullableString.yaml
      ntsTac:
        title: NTS TAC
        minLength: 4
        maxLength: 4
        example: 'F8J1'
        $ref: definitions/NullableString.yaml
      ntsSac:
        title: NTS SAC
        example: 'N002214CSW32Y9'
        $ref: definitions/NullableString.yaml
      grade:
        $ref: '#/definitions/Grade'
    required:
      - issueDate
      - reportByDate
      - ordersType
      - originDutyLocationId
      - newDutyLocationId
  UpdateOrderPayload:
    type: object
    properties:
      issueDate:
        type: string
        description: The date and time that these orders were cut.
        format: date
        example: '2018-04-26'
        title: Orders date
      reportByDate:
        type: string
        description: Report By Date
        format: date
        example: '2018-04-26'
        title: Report-by date
      ordersType:
        $ref: 'definitions/OrdersType.yaml'
      ordersTypeDetail:
        $ref: '#/definitions/OrdersTypeDetail'
      originDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      newDutyLocationId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      ordersNumber:
        type: string
        title: Orders Number
        x-nullable: true
        example: '030-00362'
      tac:
        type: string
        title: HHG TAC
        minLength: 4
        maxLength: 4
        example: 'F8J1'
        x-nullable: true
      sac:
        title: HHG SAC
        example: 'N002214CSW32Y9'
        $ref: definitions/NullableString.yaml
      ntsTac:
        title: NTS TAC
        minLength: 4
        maxLength: 4
        example: 'F8J1'
        $ref: definitions/NullableString.yaml
      ntsSac:
        title: NTS SAC
        example: 'N002214CSW32Y9'
        $ref: definitions/NullableString.yaml
      departmentIndicator:
        $ref: '#/definitions/DeptIndicator'
        x-nullable: true
      ordersAcknowledgement:
        description: Confirmation that the new amended orders were reviewed after previously approving the original orders
        type: boolean
        x-nullable: true
      grade:
        $ref: '#/definitions/Grade'
    required:
      - issueDate
      - reportByDate
      - ordersType
      - newDutyLocationId
      - originDutyLocationId
  UpdateAllowancePayload:
    type: object
    properties:
      grade:
        $ref: '#/definitions/Grade'
      dependentsAuthorized:
        type: boolean
        x-nullable: true
      agency:
        $ref: 'definitions/Affiliation.yaml'
      proGearWeight:
        description: unit is in lbs
        example: 2000
        type: integer
        minimum: 0
        maximum: 2000
        x-formatting: weight
        x-nullable: true
      proGearWeightSpouse:
        description: unit is in lbs
        example: 500
        type: integer
        minimum: 0
        maximum: 500
        x-formatting: weight
        x-nullable: true
      requiredMedicalEquipmentWeight:
        description: unit is in lbs
        example: 2000
        type: integer
        minimum: 0
        x-formatting: weight
      organizationalClothingAndIndividualEquipment:
        description: only for Army
        type: boolean
        x-nullable: true
      storageInTransit:
        description: the number of storage in transit days that the customer is entitled to for a given shipment on their move
        type: integer
        minimum: 0
      gunSafe:
        description: True if user is entitled to move a gun safe (up to 500 lbs) as part of their move without it being charged against their weight allowance.
        type: boolean
        x-nullable: true
      accompaniedTour:
        type: boolean
        example: true
        x-nullable: true
        description: Indicates if the move entitlement allows dependents to travel to the new Permanent Duty Station (PDS). This is only present on OCONUS moves.
      dependentsUnderTwelve:
        type: integer
        example: 5
        x-nullable: true
        description: Indicates the number of dependents under the age of twelve for a move. This is only present on OCONUS moves.
      dependentsTwelveAndOver:
        type: integer
        example: 3
        x-nullable: true
        description: Indicates the number of dependents of the age twelve or older for a move. This is only present on OCONUS moves.
      ubAllowance:
        example: 500
        type: integer
        x-nullable: true
  UpdateBillableWeightPayload:
    type: object
    properties:
      authorizedWeight:
        description: unit is in lbs
        example: 2000
        minimum: 1
        type: integer
        x-formatting: weight
        x-nullable: true
  UpdateMaxBillableWeightAsTIOPayload:
    type: object
    properties:
      authorizedWeight:
        description: unit is in lbs
        example: 2000
        minimum: 1
        type: integer
        x-formatting: weight
        x-nullable: true
      tioRemarks:
        description: TIO remarks for updating the max billable weight
        example: Increasing max billable weight
        type: string
        minLength: 1
        x-nullable: true
    required:
      - authorizedWeight
      - tioRemarks
  CounselingUpdateAllowancePayload:
    type: object
    properties:
      grade:
        $ref: '#/definitions/Grade'
      dependentsAuthorized:
        type: boolean
        x-nullable: true
      agency:
        $ref: 'definitions/Affiliation.yaml'
      proGearWeight:
        minimum: 0
        maximum: 2000
        description: unit is in lbs
        example: 2000
        type: integer
        x-formatting: weight
        x-nullable: true
      proGearWeightSpouse:
        minimum: 0
        maximum: 500
        description: unit is in lbs
        example: 2000
        type: integer
        x-formatting: weight
        x-nullable: true
      requiredMedicalEquipmentWeight:
        minimum: 0
        description: unit is in lbs
        example: 2000
        type: integer
        x-formatting: weight
      organizationalClothingAndIndividualEquipment:
        description: only for Army
        type: boolean
        x-nullable: true
      storageInTransit:
        description: the number of storage in transit days that the customer is entitled to for a given shipment on their move
        type: integer
        minimum: 0
      gunSafe:
        description: True if user is entitled to move a gun safe (up to 500 lbs) as part of their move without it being charged against their weight allowance.
        type: boolean
        x-nullable: true
      accompaniedTour:
        type: boolean
        example: true
        x-nullable: true
        description: Indicates if the move entitlement allows dependents to travel to the new Permanent Duty Station (PDS). This is only present on OCONUS moves.
      dependentsUnderTwelve:
        type: integer
        example: 5
        x-nullable: true
        description: Indicates the number of dependents under the age of twelve for a move. This is only present on OCONUS moves.
      dependentsTwelveAndOver:
        type: integer
        example: 3
        x-nullable: true
        description: Indicates the number of dependents of the age twelve or older for a move. This is only present on OCONUS moves.
      ubAllowance:
        example: 500
        type: integer
        x-nullable: true
  MoveTaskOrder:
    description: The Move (MoveTaskOrder)
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      createdAt:
        format: date-time
        type: string
      orderID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      locator:
        type: string
        example: '1K43AR'
      referenceId:
        example: 1001-3456
        type: string
      serviceCounselingCompletedAt:
        format: date-time
        type: string
        x-nullable: true
      availableToPrimeAt:
        format: date-time
        type: string
        x-nullable: true
      approvedAt:
        format: date-time
        type: string
        x-nullable: true
      updatedAt:
        format: date-time
        type: string
      destinationAddress:
        $ref: 'definitions/Address.yaml'
      pickupAddress:
        $ref: 'definitions/Address.yaml'
      destinationDutyLocation:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      originDutyLocation:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      entitlements:
        $ref: '#/definitions/Entitlements'
      requestedPickupDate:
        format: date
        type: string
      tioRemarks:
        type: string
        example: approved additional weight
        x-nullable: true
      eTag:
        type: string
    type: object
  MoveTaskOrders:
    items:
      $ref: '#/definitions/MoveTaskOrder'
    type: array
  PaymentRequest:
    properties:
      proofOfServiceDocs:
        $ref: '#/definitions/ProofOfServiceDocs'
      id:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        readOnly: true
        type: string
      isFinal:
        default: false
        type: boolean
      moveTaskOrder:
        $ref: '#/definitions/Move'
      moveTaskOrderID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      rejectionReason:
        example: documentation was incomplete
        type: string
        x-nullable: true
      serviceItems:
        $ref: '#/definitions/PaymentServiceItems'
      status:
        $ref: '#/definitions/PaymentRequestStatus'
      paymentRequestNumber:
        example: 1234-5678-1
        readOnly: true
        type: string
      recalculationOfPaymentRequestID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
        readOnly: true
        x-nullable: true
      eTag:
        type: string
      reviewedAt:
        format: date-time
        type: string
        x-nullable: true
      createdAt:
        format: date-time
        type: string
      sentToGexAt:
        format: date-time
        type: string
        x-nullable: true
      receivedByGexAt:
        format: date-time
        type: string
        x-nullable: true
      ediErrorType:
        description: Type of EDI reporting or causing the issue. Can be EDI 997, 824, and 858.
        type: string
        x-nullable: true
      ediErrorCode:
        description: Reported code from syncada for the EDI error encountered
        type: string
        x-nullable: true
      ediErrorDescription:
        description: The reason the services counselor has excluded or rejected the item.
        type: string
        x-nullable: true
      tppsInvoiceAmountPaidTotalMillicents:
        type: integer
        format: millients
        title: Total amount that TPPS paid for all service items on the payment request in millicents
        x-nullable: true
      tppsInvoiceSellerPaidDate:
        type: string
        format: date-time
        title: Date that TPPS paid HS for the payment request
        x-nullable: true
    type: object
  PaymentRequests:
    items:
      $ref: '#/definitions/PaymentRequest'
    type: array
  PaymentServiceItems:
    items:
      $ref: '#/definitions/PaymentServiceItem'
    type: array
  PaymentServiceItem:
    properties:
      id:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        readOnly: true
        type: string
      createdAt:
        format: date-time
        type: string
      paymentRequestID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      mtoServiceItemID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      mtoServiceItemCode:
        example: DLH
        type: string
      mtoServiceItemName:
        example: Move management
        type: string
      mtoShipmentType:
        $ref: 'definitions/MTOShipmentType.yaml'
      mtoShipmentID:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        x-nullable: true
      status:
        $ref: 'definitions/PaymentServiceItemStatus.yaml'
      priceCents:
        type: integer
        format: cents
        title: Price of the service item in cents
        x-nullable: true
      rejectionReason:
        example: documentation was incomplete
        type: string
        x-nullable: true
      referenceID:
        example: 1234-5678-c56a4180
        readOnly: true
        format: string
      paymentServiceItemParams:
        $ref: 'definitions/PaymentServiceItemParams.yaml'
      eTag:
        type: string
      tppsInvoiceAmountPaidPerServiceItemMillicents:
        type: integer
        format: millicents
        title: Amount that TPPS paid for the individual service item in millicents
        x-nullable: true
    type: object
  PaymentRequestStatus:
    $ref: 'definitions/PaymentRequestStatus.yaml'
  ProofOfServiceDocs:
    items:
      $ref: '#/definitions/ProofOfServiceDoc'
    type: array
  ProofOfServiceDoc:
    properties:
      isWeightTicket:
        type: boolean
      uploads:
        items:
          $ref: 'definitions/Upload.yaml'
        type: array
  ShipmentsPaymentSITBalance:
    items:
      $ref: '#/definitions/ShipmentPaymentSITBalance'
    type: array
  ShipmentPaymentSITBalance:
    properties:
      shipmentID:
        type: string
        format: uuid
      totalSITDaysAuthorized:
        type: integer
      totalSITDaysRemaining:
        type: integer
      totalSITEndDate:
        type: string
        format: date
        x-nullable: true
      pendingSITDaysInvoiced:
        type: integer
      pendingBilledStartDate:
        type: string
        format: date
        x-nullable: true
      pendingBilledEndDate:
        type: string
        format: date
        x-nullable: true
      previouslyBilledDays:
        type: integer
        x-nullable: true
      previouslyBilledStartDate:
        type: string
        format: date
        x-nullable: true
      previouslyBilledEndDate:
        type: string
        format: date
        x-nullable: true
  UpdateShipment:
    type: object
    properties:
      shipmentType:
        $ref: 'definitions/MTOShipmentType.yaml'
      requestedPickupDate:
        format: date
        type: string
        x-nullable: true
      requestedDeliveryDate:
        format: date
        type: string
        x-nullable: true
      customerRemarks:
        type: string
        example: handle with care
        x-nullable: true
      counselorRemarks:
        type: string
        example: counselor approved
        x-nullable: true
      billableWeightCap:
        type: integer
        description: estimated weight of the shuttle service item provided by the prime
        example: 2500
        x-formatting: weight
        x-nullable: true
      billableWeightJustification:
        type: string
        example: more weight than expected
        x-nullable: true
      pickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      destinationAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      secondaryDeliveryAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      secondaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasSecondaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasSecondaryDeliveryAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      tertiaryDeliveryAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      tertiaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasTertiaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasTertiaryDeliveryAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      actualProGearWeight:
        type: integer
        x-nullable: true
        x-omitempty: false
      actualSpouseProGearWeight:
        type: integer
        x-nullable: true
        x-omitempty: false
      destinationType:
        $ref: 'definitions/DestinationType.yaml'
      agents:
        $ref: 'definitions/MTOAgents.yaml'
        x-nullable: true
      tacType:
        $ref: 'definitions/LOATypeNullable.yaml'
      sacType:
        $ref: 'definitions/LOATypeNullable.yaml'
      usesExternalVendor:
        type: boolean
        example: false
        x-nullable: true
      serviceOrderNumber:
        type: string
        x-nullable: true
      ntsRecordedWeight:
        description: The previously recorded weight for the NTS Shipment. Used for NTS Release to know what the previous primeActualWeight or billable weight was.
        example: 2000
        type: integer
        x-formatting: weight
        x-nullable: true
      storageFacility:
        x-nullable: true
        $ref: 'definitions/StorageFacility.yaml'
      ppmShipment:
        $ref: '#/definitions/UpdatePPMShipment'
      boatShipment:
        $ref: '#/definitions/UpdateBoatShipment'
      mobileHomeShipment:
        $ref: '#/definitions/UpdateMobileHomeShipment'
  UpdatePPMShipment:
    type: object
    properties:
      expectedDepartureDate:
        description: >
          Date the customer expects to move.
        format: date
        type: string
        x-nullable: true
      actualMoveDate:
        format: date
        type: string
        x-nullable: true
      pickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      actualPickupPostalCode:
        description: >
          The actual postal code where the PPM shipment started. To be filled once the customer has moved the shipment.
        format: zip
        type: string
        title: ZIP
        example: '90210'
        pattern: ^(\d{5})$
        x-nullable: true
      secondaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      destinationAddress:
        allOf:
          - $ref: 'definitions/PPMDestinationAddress.yaml'
      actualDestinationPostalCode:
        description: >
          The actual postal code where the PPM shipment ended. To be filled once the customer has moved the shipment.
        format: zip
        type: string
        title: ZIP
        example: '90210'
        pattern: ^(\d{5})$
        x-nullable: true
      secondaryDestinationAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasSecondaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasSecondaryDestinationAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      tertiaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      tertiaryDestinationAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasTertiaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasTertiaryDestinationAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      w2Address:
        x-nullable: true
        $ref: 'definitions/Address.yaml'
      sitExpected:
        type: boolean
        x-nullable: true
      sitLocation:
        allOf:
          - $ref: 'definitions/SITLocationType.yaml'
          - x-nullable: true
      sitEstimatedWeight:
        type: integer
        example: 2000
        x-nullable: true
      sitEstimatedEntryDate:
        format: date
        type: string
        x-nullable: true
      sitEstimatedDepartureDate:
        format: date
        type: string
        x-nullable: true
      estimatedWeight:
        type: integer
        example: 4200
        x-nullable: true
      allowableWeight:
        description: The allowable weight of the PPM shipment goods being moved.
        type: integer
        minimum: 0
        example: 4300
        x-nullable: true
      hasProGear:
        description: >
          Indicates whether PPM shipment has pro gear.
        type: boolean
        x-nullable: true
      proGearWeight:
        type: integer
        x-nullable: true
      spouseProGearWeight:
        type: integer
        x-nullable: true
      hasRequestedAdvance:
        description: >
          Indicates whether an advance has been requested for the PPM shipment.
        type: boolean
        x-nullable: true
      hasReceivedAdvance:
        description: >
          Indicates whether an advance was received for the PPM shipment.
        type: boolean
        x-nullable: true
      advanceAmountRequested:
        description: >
          The amount request for an advance, or null if no advance is requested
        type: integer
        format: cents
        x-nullable: true
      advanceAmountReceived:
        description: >
          The amount received for an advance, or null if no advance is received
        type: integer
        format: cents
        x-nullable: true
      advanceStatus:
        $ref: 'definitions/PPMAdvanceStatus.yaml'
        x-nullable: true
      isActualExpenseReimbursement:
        description: Used for PPM shipments only. Denotes if this shipment uses the Actual Expense Reimbursement method.
        type: boolean
        example: false
        x-omitempty: false
        x-nullable: true
  UpdateBoatShipment:
    type: object
    properties:
      type:
        type: string
        enum:
          - HAUL_AWAY
          - TOW_AWAY
        x-nullable: true
      year:
        type: integer
        description: Year of the Boat
        x-nullable: true
      make:
        type: string
        description: Make of the Boat
        x-nullable: true
      model:
        type: string
        description: Model of the Boat
        x-nullable: true
      lengthInInches:
        type: integer
        description: Length of the Boat in inches
        x-nullable: true
      widthInInches:
        type: integer
        description: Width of the Boat in inches
        x-nullable: true
      heightInInches:
        type: integer
        description: Height of the Boat in inches
        x-nullable: true
      hasTrailer:
        type: boolean
        description: Does the boat have a trailer
        x-nullable: true
      isRoadworthy:
        type: boolean
        description: Is the trailer roadworthy
        x-nullable: true
  UpdateMobileHomeShipment:
    type: object
    properties:
      year:
        type: integer
        description: Year of the Boat
        x-nullable: true
      make:
        type: string
        description: Make of the Boat
        x-nullable: true
      model:
        type: string
        description: Model of the Boat
        x-nullable: true
      lengthInInches:
        type: integer
        description: Length of the Boat in inches
        x-nullable: true
      widthInInches:
        type: integer
        description: Width of the Boat in inches
        x-nullable: true
      heightInInches:
        type: integer
        description: Height of the Boat in inches
        x-nullable: true
  UpdateWeightTicket:
    type: object
    properties:
      emptyWeight:
        description: Weight of the vehicle when empty.
        type: integer
        minimum: 0
      fullWeight:
        description: The weight of the vehicle when full.
        type: integer
        minimum: 0
      ownsTrailer:
        description: Indicates if the customer used a trailer they own for the move.
        type: boolean
      trailerMeetsCriteria:
        description: Indicates if the trailer that the customer used meets all the criteria to be claimable.
        type: boolean
      status:
        $ref: 'definitions/PPMDocumentStatus.yaml'
      reason:
        description: The reason the services counselor has excluded or rejected the item.
        type: string
      adjustedNetWeight:
        description: Indicates the adjusted net weight of the vehicle
        type: integer
        minimum: 0
      netWeightRemarks:
        description: Remarks explaining any edits made to the net weight
        type: string
  UpdateMovingExpense:
    type: object
    properties:
      movingExpenseType:
        $ref: 'definitions/OmittableMovingExpenseType.yaml'
      description:
        description: A brief description of the expense.
        type: string
        x-nullable: true
        x-omitempty: false
      amount:
        description: The total amount of the expense as indicated on the receipt
        type: integer
      sitStartDate:
        description: The date the shipment entered storage, applicable for the `STORAGE` movingExpenseType only
        type: string
        format: date
      sitEndDate:
        description: The date the shipment exited storage, applicable for the `STORAGE` movingExpenseType only
        type: string
        format: date
      status:
        $ref: 'definitions/PPMDocumentStatus.yaml'
      reason:
        description: The reason the services counselor has excluded or rejected the item.
        type: string
      weightStored:
        description: The total weight stored in PPM SIT
        type: integer
      sitLocation:
        allOf:
          - $ref: 'definitions/SITLocationType.yaml'
          - x-nullable: true
      sitEstimatedCost:
        description: The estimated amount that the government will pay the service member to put their goods into storage. This estimated storage cost is separate from the estimated incentive.
        type: integer
        format: cents
        x-nullable: true
        x-omitempty: false
      sitReimburseableAmount:
        description: The amount of SIT that will be reimbursed
        type: integer
        format: cents
        x-nullable: true
        x-omitempty: false
  UpdateProGearWeightTicket:
    type: object
    properties:
      belongsToSelf:
        description: Indicates if this information is for the customer's own pro-gear, otherwise, it's the spouse's.
        type: boolean
      hasWeightTickets:
        description: Indicates if the user has a weight ticket for their pro-gear, otherwise they have a constructed weight.
        type: boolean
      weight:
        description: Weight of the pro-gear contained in the shipment.
        type: integer
        minimum: 0
      status:
        $ref: 'definitions/PPMDocumentStatus.yaml'
      reason:
        description: The reason the services counselor has excluded or rejected the item.
        type: string
  MTOShipments:
    items:
      $ref: 'definitions/MTOShipment.yaml'
    type: array
  CreateMTOShipment:
    type: object
    properties:
      moveTaskOrderID:
        description: The ID of the move this new shipment is for.
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      requestedPickupDate:
        description: >
          The customer's preferred pickup date. Other dates, such as required delivery date and (outside MilMove) the
          pack date, are derived from this date.
        format: date
        type: string
        x-nullable: true
      requestedDeliveryDate:
        description: >
          The customer's preferred delivery date.
        format: date
        type: string
        x-nullable: true
      customerRemarks:
        description: |
          The customer can use the customer remarks field to inform the services counselor and the movers about any
          special circumstances for this shipment. Typical examples:
            * bulky or fragile items,
            * weapons,
            * access info for their address.
          Customer enters this information during onboarding. Optional field.
        type: string
        example: handle with care
        x-nullable: true
      counselorRemarks:
        description: |
          The counselor can use the counselor remarks field to inform the movers about any
          special circumstances for this shipment. Typical examples:
            * bulky or fragile items,
            * weapons,
            * access info for their address.
          Counselors enters this information when creating or editing an MTO Shipment. Optional field.
        type: string
        example: handle with care
        x-nullable: true
      agents:
        $ref: 'definitions/MTOAgents.yaml'
      mtoServiceItems:
        $ref: 'definitions/MTOServiceItems.yaml'
      pickupAddress:
        description: The address where the movers should pick up this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      destinationAddress:
        description: Where the movers should deliver this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasSecondaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      secondaryPickupAddress:
        description: The address where the movers should pick up this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasSecondaryDeliveryAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      secondaryDeliveryAddress:
        description: Where the movers should deliver this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasTertiaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      tertiaryPickupAddress:
        description: The address where the movers should pick up this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasTertiaryDeliveryAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      tertiaryDeliveryAddress:
        description: Where the movers should deliver this shipment.
        allOf:
          - $ref: 'definitions/Address.yaml'
      destinationType:
        $ref: 'definitions/DestinationType.yaml'
      shipmentType:
        $ref: 'definitions/MTOShipmentType.yaml'
      tacType:
        allOf:
          - $ref: 'definitions/LOAType.yaml'
          - x-nullable: true
      sacType:
        allOf:
          - $ref: 'definitions/LOAType.yaml'
          - x-nullable: true
      usesExternalVendor:
        type: boolean
        example: false
        x-nullable: true
      serviceOrderNumber:
        type: string
        x-nullable: true
      ntsRecordedWeight:
        description: The previously recorded weight for the NTS Shipment. Used for NTS Release to know what the previous primeActualWeight or billable weight was.
        example: 2000
        type: integer
        x-nullable: true
        x-formatting: weight
      storageFacility:
        x-nullable: true
        $ref: 'definitions/StorageFacility.yaml'
      mobileHomeShipment:
        $ref: '#/definitions/CreateMobileHomeShipment'
      ppmShipment:
        $ref: '#/definitions/CreatePPMShipment'
      boatShipment:
        $ref: '#/definitions/CreateBoatShipment'
    required:
      - moveTaskOrderID
      - shipmentType
  CreatePPMShipment:
    description: A personally procured move is a type of shipment that a service members moves themselves.
    properties:
      expectedDepartureDate:
        description: >
          Date the customer expects to move.
        format: date
        type: string
      pickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      secondaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      tertiaryPickupAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      destinationAddress:
        allOf:
          - $ref: 'definitions/PPMDestinationAddress.yaml'
      secondaryDestinationAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      tertiaryDestinationAddress:
        allOf:
          - $ref: 'definitions/Address.yaml'
      hasSecondaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasTertiaryPickupAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasSecondaryDestinationAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      hasTertiaryDestinationAddress:
        type: boolean
        x-nullable: true
        x-omitempty: false
      sitExpected:
        type: boolean
      sitLocation:
        allOf:
          - $ref: 'definitions/SITLocationType.yaml'
          - x-nullable: true
      sitEstimatedWeight:
        type: integer
        example: 2000
        x-nullable: true
      sitEstimatedEntryDate:
        format: date
        type: string
        x-nullable: true
      sitEstimatedDepartureDate:
        format: date
        type: string
        x-nullable: true
      estimatedWeight:
        type: integer
        example: 4200
      hasProGear:
        description: >
          Indicates whether PPM shipment has pro gear.
        type: boolean
      proGearWeight:
        type: integer
        x-nullable: true
      spouseProGearWeight:
        type: integer
        x-nullable: true
      isActualExpenseReimbursement:
        description: Used for PPM shipments only. Denotes if this shipment uses the Actual Expense Reimbursement method.
        type: boolean
        example: false
        x-omitempty: false
        x-nullable: true
    required:
      - expectedDepartureDate
      - pickupAddress
      - destinationAddress
      - sitExpected
      - estimatedWeight
      - hasProGear
  CreateBoatShipment:
    description: Boat shipment information for the move.
    properties:
      type:
        type: string
        enum:
          - HAUL_AWAY
          - TOW_AWAY
      year:
        type: integer
        description: Year of the Boat
      make:
        type: string
        description: Make of the Boat
      model:
        type: string
        description: Model of the Boat
      lengthInInches:
        type: integer
        description: Length of the Boat in inches
      widthInInches:
        type: integer
        description: Width of the Boat in inches
      heightInInches:
        type: integer
        description: Height of the Boat in inches
      hasTrailer:
        type: boolean
        description: Does the boat have a trailer
      isRoadworthy:
        type: boolean
        description: Is the trailer roadworthy
        x-nullable: true
    required:
      - type
      - year
      - make
      - model
      - lengthInInches
      - widthInInches
      - heightInInches
      - hasTrailer
  CreateMobileHomeShipment:
    description: A mobile home shipment that the prime moves for a service member.
    properties:
      make:
        type: string
        description: Make of the Mobile Home
      model:
        type: string
        description: Model of the Mobile Home
      year:
        type: integer
        description: Year of the Mobile Home
      lengthInInches:
        type: integer
        description: Length of the Mobile Home in inches
      heightInInches:
        type: integer
        description: Height of the Mobile Home in inches
      widthInInches:
        type: integer
        description: Width of the Mobile Home in inches
    required:
      - make
      - model
      - year
      - lengthInInches
      - heightInInches
      - widthInInches
  RejectShipment:
    properties:
      rejectionReason:
        type: string
        example: MTO Shipment not good enough
    required:
      - rejectionReason
  RequestDiversion:
    properties:
      diversionReason:
        type: string
        example: Shipment route needs to change
    required:
      - diversionReason
  ApproveSITExtension:
    properties:
      approvedDays:
        description: Number of days approved for SIT extension
        type: integer
        example: 21
        minimum: 1
      requestReason:
        description: Reason from service counselor-provided picklist for SIT Duration Update
        example: 'AWAITING_COMPLETION_OF_RESIDENCE'
        type: string
        enum:
          - SERIOUS_ILLNESS_MEMBER
          - SERIOUS_ILLNESS_DEPENDENT
          - IMPENDING_ASSIGNEMENT
          - DIRECTED_TEMPORARY_DUTY
          - NONAVAILABILITY_OF_CIVILIAN_HOUSING
          - AWAITING_COMPLETION_OF_RESIDENCE
          - OTHER
      officeRemarks:
        description: Remarks from TOO about SIT approval
        type: string
        example: Approved for three weeks rather than requested 45 days
        x-nullable: true
    required:
      - approvedDays
  DenySITExtension:
    properties:
      officeRemarks:
        description: Remarks from TOO about SIT denial
        type: string
        example: Denied this extension as it does not match the criteria
        x-nullable: true
      convertToCustomerExpense:
        description: Whether or not to convert to members expense once SIT extension is denied.
        type: boolean
        example: false
    required:
      - officeRemarks
      - convertToCustomerExpense
  UpdateSITServiceItemCustomerExpense:
    properties:
      convertToCustomerExpense:
        example: true
        type: boolean
      customerExpenseReason:
        description: Reason the service item was rejected
        type: string
        example: Insufficent details provided
    required:
      - convertToCustomerExpense
      - customerExpenseReason
  CreateApprovedSITDurationUpdate:
    properties:
      requestReason:
        description: Reason from service counselor-provided picklist for SIT Duration Update
        example: 'AWAITING_COMPLETION_OF_RESIDENCE'
        type: string
        enum:
          - SERIOUS_ILLNESS_MEMBER
          - SERIOUS_ILLNESS_DEPENDENT
          - IMPENDING_ASSIGNEMENT
          - DIRECTED_TEMPORARY_DUTY
          - NONAVAILABILITY_OF_CIVILIAN_HOUSING
          - AWAITING_COMPLETION_OF_RESIDENCE
          - OTHER
      approvedDays:
        description: Number of days approved for SIT extension. This will match requested days saved to the SIT extension model.
        type: integer
        example: 21
      officeRemarks:
        description: Remarks from TOO about SIT Duration Update creation
        type: string
        example: Customer needs additional storage time as their new place of residence is not yet ready
        x-nullable: true
    required:
      - requestReason
      - approvedDays
  PatchMTOServiceItemStatusPayload:
    properties:
      status:
        description: Describes all statuses for a MTOServiceItem
        type: string
        enum:
          - SUBMITTED
          - APPROVED
          - REJECTED
      rejectionReason:
        description: Reason the service item was rejected
        type: string
        example: Insufficent details provided
        x-nullable: true
  MTOApprovalServiceItemCodes:
    description: MTO level service items to create when updating MTO status.
    properties:
      serviceCodeCS:
        example: true
        type: boolean
      serviceCodeMS:
        example: true
        type: boolean
    type: object
  TacValid:
    properties:
      isValid:
        example: true
        type: boolean
    required:
      - isValid
    type: object
  UpdatePaymentRequestStatusPayload:
    properties:
      rejectionReason:
        example: documentation was incomplete
        type: string
        x-nullable: true
      status:
        $ref: '#/definitions/PaymentRequestStatus'
      eTag:
        type: string
    type: object
  AvailableOfficeUsers:
    type: array
    items:
      $ref: '#/definitions/AvailableOfficeUser'
  AvailableOfficeUser:
    type: object
    properties:
      officeUserId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      lastName:
        type: string
      firstName:
        type: string
      hasSafetyPrivilege:
        type: boolean
  QueueMoves:
    type: array
    items:
      $ref: '#/definitions/QueueMove'
  QueueMove:
    type: object
    properties:
      id:
        type: string
        format: uuid
      customer:
        $ref: '#/definitions/Customer'
      status:
        $ref: '#/definitions/MoveStatus'
      locator:
        type: string
      submittedAt:
        format: date-time
        type: string
        x-nullable: true
      appearedInTooAt:
        format: date-time
        type: string
        x-nullable: true
      requestedMoveDate:
        format: date
        type: string
        x-nullable: true
      departmentIndicator:
        $ref: '#/definitions/DeptIndicator'
      shipmentsCount:
        type: integer
      originDutyLocation:
        $ref: 'definitions/DutyLocation.yaml'
      destinationDutyLocation:
        $ref: 'definitions/DutyLocation.yaml'
      originGBLOC:
        $ref: '#/definitions/GBLOC'
      ppmType:
        type: string
        enum: [FULL, PARTIAL]
        x-nullable: true
      closeoutInitiated:
        format: date-time
        type: string
        x-nullable: true
      closeoutLocation:
        type: string
        x-nullable: true
      orderType:
        type: string
        x-nullable: true
      lockedByOfficeUserID:
        type: string
        format: uuid
        x-nullable: true
      lockedByOfficeUser:
        $ref: '#/definitions/LockedOfficeUser'
        x-nullable: true
      lockExpiresAt:
        type: string
        format: date-time
        x-nullable: true
      ppmStatus:
        $ref: '#/definitions/PPMStatus'
        x-nullable: true
      counselingOffice:
        type: string
        x-nullable: true
      counselingOfficeID:
        type: string
        format: uuid
        x-nullable: true
      assignedTo:
        $ref: '#/definitions/AssignedOfficeUser'
        x-nullable: true
      availableOfficeUsers:
        $ref: '#/definitions/AvailableOfficeUsers'
      assignable:
        type: boolean
  QueueMovesResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      queueMoves:
        $ref: '#/definitions/QueueMoves'
  ListPrimeMove:
    description: >
      An abbreviated definition for a move, without all the nested information (shipments, service items, etc). Used to
      fetch a list of moves more efficiently.
    type: object
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      moveCode:
        type: string
        example: 'HYXFJF'
        readOnly: true
      createdAt:
        format: date-time
        type: string
        readOnly: true
      orderID:
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        format: uuid
        type: string
      referenceId:
        example: 1001-3456
        type: string
      availableToPrimeAt:
        format: date-time
        type: string
        x-nullable: true
        readOnly: true
      approvedAt:
        format: date-time
        type: string
        x-nullable: true
        readOnly: true
      updatedAt:
        format: date-time
        type: string
        readOnly: true
      ppmType:
        type: string
        enum:
          - FULL
          - PARTIAL
      eTag:
        type: string
        readOnly: true
      orderType:
        type: string
  ListPrimeMoves:
    type: array
    items:
      $ref: '#/definitions/ListPrimeMove'
  ListPrimeMovesResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      queueMoves:
        $ref: '#/definitions/ListPrimeMoves'
  QueuePaymentRequest:
    type: object
    properties:
      id:
        type: string
        format: uuid
      moveID:
        type: string
        format: uuid
      customer:
        $ref: '#/definitions/Customer'
      status:
        $ref: '#/definitions/QueuePaymentRequestStatus'
      age:
        type: number
        format: double
        description: Days since the payment request has been requested.  Decimal representation will allow more accurate sorting.
      submittedAt:
        type: string
        format: date-time
      locator:
        type: string
      departmentIndicator:
        $ref: '#/definitions/DeptIndicator'
      originGBLOC:
        $ref: '#/definitions/GBLOC'
      originDutyLocation:
        $ref: 'definitions/DutyLocation.yaml'
      orderType:
        type: string
        x-nullable: true
      lockedByOfficeUserID:
        type: string
        format: uuid
        x-nullable: true
      lockExpiresAt:
        type: string
        format: date-time
        x-nullable: true
      assignedTo:
        $ref: '#/definitions/AssignedOfficeUser'
        x-nullable: true
      availableOfficeUsers:
        $ref: '#/definitions/AvailableOfficeUsers'
      assignable:
        type: boolean
      counselingOffice:
        type: string
        x-nullable: true
  QueuePaymentRequests:
    type: array
    items:
      $ref: '#/definitions/QueuePaymentRequest'
  QueuePaymentRequestsResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      queuePaymentRequests:
        $ref: '#/definitions/QueuePaymentRequests'
  QueuePaymentRequestStatus:
    enum:
      - Payment requested
      - Reviewed
      - Rejected
      - Paid
    title: Queue Payment Request Status
    type: string
  SearchMoves:
    type: array
    items:
      $ref: '#/definitions/SearchMove'
  SearchMove:
    type: object
    properties:
      id:
        type: string
        format: uuid
      firstName:
        type: string
        example: John
        x-nullable: true
      lastName:
        type: string
        example: Doe
        x-nullable: true
      edipi:
        type: string
        example: 1234567890
        x-nullable: true
      paymentRequestCode:
        type: string
        example: 9551-6199-2
        x-nullable: true
      status:
        $ref: '#/definitions/MoveStatus'
      locator:
        type: string
      branch:
        type: string
      shipmentsCount:
        type: integer
      originDutyLocationPostalCode:
        format: zip
        type: string
        title: ZIP
        example: '90210'
        pattern: ^(\d{5})$
      destinationDutyLocationPostalCode:
        format: zip
        type: string
        title: ZIP
        example: '90210'
        pattern: ^(\d{5})$
      requestedPickupDate:
        type: string
        format: date
        x-nullable: true
      orderType:
        type: string
      requestedDeliveryDate:
        type: string
        format: date
        x-nullable: true
      originGBLOC:
        $ref: '#/definitions/GBLOC'
      destinationGBLOC:
        $ref: '#/definitions/GBLOC'
      lockedByOfficeUserID:
        type: string
        format: uuid
        x-nullable: true
      lockExpiresAt:
        type: string
        format: date-time
        x-nullable: true
      emplid:
        type: string
        x-nullable: true
  SearchMovesResult:
    type: object
    properties:
      page:
        type: integer
      perPage:
        type: integer
      totalCount:
        type: integer
      searchMoves:
        $ref: '#/definitions/SearchMoves'
  GBLOC:
    type: string
    enum:
      - AGFM
      - APAT
      - BGAC
      - BGNC
      - BKAS
      - CFMQ
      - CLPK
      - CNNQ
      - DMAT
      - GSAT
      - HAFC
      - HBAT
      - JEAT
      - JENQ
      - KKFA
      - LHNQ
      - LKNQ
      - MAPK
      - MAPS
      - MBFL
      - MLNQ
      - XXXX
  CreateCustomerSupportRemark:
    type: object
    description: >-
      A text remark written by an customer support user that is associated with a specific
      move.
    required:
      - content
      - officeUserID
    properties:
      content:
        example: This is a remark about a move.
        type: string
      officeUserID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
  UpdateCustomerSupportRemarkPayload:
    type: object
    description: >-
      A text remark update to an existing remark created by the current active user (the CSR).
    required:
      - content
    properties:
      content:
        example: This is a remark about a move.
        type: string
  EvaluationReportType:
    type: string
    enum:
      - SHIPMENT
      - COUNSELING
  EvaluationReportInspectionType:
    type: string
    enum:
      - DATA_REVIEW
      - PHYSICAL
      - VIRTUAL
    x-nullable: true
  EvaluationReportLocation:
    type: string
    enum:
      - ORIGIN
      - DESTINATION
      - OTHER
    x-nullable: true
  EvaluationReportOfficeUser:
    type: object
    readOnly: true
    description: The authoring office user for an evaluation report
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      firstName:
        type: string
      lastName:
        type: string
      email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
      phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
  EvaluationReportList:
    type: array
    items:
      $ref: '#/definitions/EvaluationReport'
  EvaluationReport:
    type: object
    description: An evaluation report
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
        readOnly: true
      moveID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
        readOnly: true
      shipmentID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
        x-nullable: true
        readOnly: true
      type:
        $ref: '#/definitions/EvaluationReportType'
      inspectionType:
        $ref: '#/definitions/EvaluationReportInspectionType'
        x-nullable: true
      inspectionDate:
        type: string
        format: date
        x-nullable: true
      officeUser:
        $ref: '#/definitions/EvaluationReportOfficeUser'
      location:
        $ref: '#/definitions/EvaluationReportLocation'
        x-nullable: true
      reportViolations:
        $ref: '#/definitions/ReportViolations'
        x-nullable: true
      gsrAppeals:
        $ref: '#/definitions/GSRAppeals'
        x-nullable: true
      locationDescription:
        type: string
        example: 'Route 66 at crash inspection site 3'
        x-nullable: true
      observedShipmentDeliveryDate:
        type: string
        format: date
        x-nullable: true
      observedShipmentPhysicalPickupDate:
        type: string
        format: date
        x-nullable: true
      timeDepart:
        type: string
        x-nullable: true
        pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
        example: '14:30'
      evalStart:
        type: string
        x-nullable: true
        pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
        example: '15:00'
      evalEnd:
        type: string
        x-nullable: true
        pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'
        example: '18:00'
      violationsObserved:
        type: boolean
        x-nullable: true
      remarks:
        type: string
        x-nullable: true
      seriousIncident:
        type: boolean
        x-nullable: true
      seriousIncidentDesc:
        type: string
        x-nullable: true
      observedClaimsResponseDate:
        type: string
        format: date
        x-nullable: true
      observedPickupDate:
        type: string
        format: date
        x-nullable: true
      observedPickupSpreadStartDate:
        type: string
        format: date
        x-nullable: true
      observedPickupSpreadEndDate:
        type: string
        format: date
        x-nullable: true
      observedDeliveryDate:
        type: string
        format: date
        x-nullable: true
      moveReferenceID:
        type: string
        x-nullable: true
        readOnly: true
      eTag:
        type: string
      submittedAt:
        type: string
        format: date-time
        x-nullable: true
      createdAt:
        type: string
        format: date-time
        readOnly: true
      updatedAt:
        type: string
        format: date-time
        readOnly: true
  CreateEvaluationReport:
    type: object
    description: Minimal set of info needed to create a shipment evaluation report, which is just a shipment ID.
    properties:
      shipmentID:
        description: The shipment ID of the shipment to be evaluated in the report
        example: 01b9671e-b268-4906-967b-ba661a1d3933
        format: uuid
        type: string
  CreateAppeal:
    type: object
    description: Appeal status and remarks left for a violation, created by a GSR user.
    properties:
      remarks:
        description: Remarks left by the GSR user
        example: These are my violation appeal remarks
        type: string
      appealStatus:
        description: The status of the appeal set by the GSR user
        example: These are my violation appeal remarks
        type: string
        enum: [sustained, rejected]
  PWSViolation:
    type: object
    description: A PWS violation for an evaluation report
    readOnly: true
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      displayOrder:
        example: 3
        type: integer
      paragraphNumber:
        example: 1.2.3.4.5
        type: string
      title:
        example: Customer Support
        type: string
      category:
        example: Pre-Move Services
        type: string
      subCategory:
        example: Weight Estimate
        type: string
      requirementSummary:
        example: Provide a single point of contact (POC)
        type: string
      requirementStatement:
        example: The contractor shall prepare and load property going into NTS in containers at residence for shipment to NTS.
        type: string
      isKpi:
        example: false
        type: boolean
      additionalDataElem:
        example: QAE Observed Delivery Date
        type: string
  PWSViolations:
    type: array
    items:
      $ref: '#/definitions/PWSViolation'
  AssociateReportViolations:
    type: object
    description: A list of PWS violation string ids to associate with an evaluation report
    properties:
      violations:
        type: array
        items:
          type: string
          format: uuid
  ReportViolation:
    type: object
    description: An object associating violations to evaluation reports
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      reportID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      violationID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      violation:
        $ref: '#/definitions/PWSViolation'
      gsrAppeals:
        $ref: '#/definitions/GSRAppeals'
        x-nullable: true
  ReportViolations:
    type: array
    items:
      $ref: '#/definitions/ReportViolation'
  GSRAppealStatusType:
    type: string
    enum:
      - SUSTAINED
      - REJECTED
  GSRAppeals:
    type: array
    items:
      $ref: '#/definitions/GSRAppeal'
  GSRAppeal:
    type: object
    description: An object associating appeals on violations and serious incidents
    properties:
      id:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      reportID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      violationID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      officeUserID:
        example: 1f2270c7-7166-40ae-981e-b200ebdf3054
        format: uuid
        type: string
      officeUser:
        $ref: '#/definitions/EvaluationReportOfficeUser'
      isSeriousIncident:
        type: boolean
        example: false
      appealStatus:
        $ref: '#/definitions/GSRAppealStatusType'
      remarks:
        type: string
        example: Office user remarks
      createdAt:
        type: string
        format: date-time
        readOnly: true
  TransportationOffices:
    type: array
    items:
      $ref: 'definitions/TransportationOffice.yaml'
  ReServiceItems:
    type: array
    items:
      $ref: "definitions/ReServiceItem.yaml"
  VLocations:
    type: array
    items:
      $ref: "definitions/VLocation.yaml"
  GBLOCs:
    type: array
    items:
      type: string
  MovePayload:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      orders_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      service_member_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        readOnly: true
      locator:
        type: string
        example: '12432'
      status:
        $ref: '#/definitions/MoveStatus'
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
      submitted_at:
        type: string
        format: date-time
        x-nullable: true
      mto_shipments:
        $ref: '#/definitions/MTOShipments'
      closeout_office:
        $ref: '#/definitions/TransportationOffice'
      cancel_reason:
        type: string
        example: Change of orders
        x-nullable: true
      eTag:
        type: string
      primeCounselingCompletedAt:
        format: date-time
        type: string
        readOnly: true
      additionalDocuments:
        $ref: 'definitions/Document.yaml'
    required:
      - id
      - orders_id
      - locator
      - created_at
      - updated_at
      - eTag
  IsDateWeekendHolidayInfo:
    type: object
    properties:
      country_code:
        type: string
      country_name:
        type: string
      date:
        type: string
        format: date
        example: '2018-09-25'
      is_weekend:
        type: boolean
      is_holiday:
        type: boolean
      details:
        type: string
    required:
      - country_code
      - country_name
      - date
      - is_weekend
      - is_holiday
  AssignOfficeUserBody:
    type: object
    properties:
      officeUserId:
        type: string
        format: uuid
      roleType:
        type: string
    required:
      - officeUserId
      - roleType
  AssignedOfficeUser:
    type: object
    properties:
      officeUserId:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      firstName:
        type: string
      lastName:
        type: string
responses:
  InvalidRequest:
    description: The request payload is invalid
    schema:
      $ref: '#/definitions/Error'
  NotFound:
    description: The requested resource wasn't found
    schema:
      $ref: '#/definitions/Error'
  Conflict:
    description: Conflict error
    schema:
      $ref: '#/definitions/Error'
  PermissionDenied:
    description: The request was denied
    schema:
      $ref: '#/definitions/Error'
  ServerError:
    description: A server error occurred
    schema:
      $ref: '#/definitions/Error'
  PreconditionFailed:
    description: Precondition failed
    schema:
      $ref: '#/definitions/Error'
  UnprocessableEntity:
    description: The payload was unprocessable.
    schema:
      $ref: '#/definitions/ValidationError'
