PaymentRequest:
  type: object
  properties:
    id:
      type: string
      format: uuid
      example: c56a4180-65aa-42ec-a945-5fd21dec0538
      readOnly: true
    documentPackage:
      $ref: '#/ProofOfServicePackage'
    moveOrderId:
      type: string
      format: uuid
      example: c56a4180-65aa-42ec-a945-5fd21dec0538
    moveOrderLineItemIds:
      type: array
      items:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
    isFinal:
      type: boolean
      default: false
    status:
      $ref: '#/PaymentRequestStatus'
    rejectionReason:
      type: string
      example: documentation was incomplete
      nullable: true

CreatePaymentRequestPayload:
  type: object
  properties:
    proofOfServicePackage:
      $ref: '#/ProofOfServicePackage'
    moveOrderId:
      type: string
      format: uuid
      example: c56a4180-65aa-42ec-a945-5fd21dec0538
    moveOrderLineItemIds:
      type: array
      items:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
    isFinal:
      type: boolean
      default: false

UpdatePaymentRequestPayload: # TODO: remove if we Prime will not be updating payment request
  type: object
  properties:
    moveOrderLineItemIds:
      type: array
      items:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
    proofOfServicePackage:
      $ref: '#/ProofOfServicePackage'

UpdatePaymentRequestStatusPayload:
  type: object
  properties:
    status:
      $ref: '#/PaymentRequestStatus'
    rejectionReason:
      type: string
      example: documentation was incomplete
      nullable: true

ProofOfServicePackage: # Need more info on what a ProofOfServicePackage is, what is in it
  type: object
  properties:
    id:
      type: string
      format: uuid
      example: c56a4180-65aa-42ec-a945-5fd21dec0538
    uploads:
      type: array
      items:
        $ref: '#/Upload' # this could alternatively be a document that holds an upload

PaymentRequestStatus:
  type: string
  title: Payment Request Status
  enum:
    - PAYMENT_SUBMITTED
    - APPROVED
    - REJECTED

Upload: # TODO: does this need to identify which line item it is associated with?
  type: object
  properties:
    id:
      type: string
      format: uuid
      example: c56a4180-65aa-42ec-a945-5fd21dec0538
    url:
      type: string
      format: uri
      example: https://uploads.domain.test/dir/c56a4180-65aa-42ec-a945-5fd21dec0538
    filename:
      type: string
      format: binary
      example: filename.pdf
    contentType:
      type: string
      format: mime-type
      example: application/pdf
    bytes:
      type: integer
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
  required:
    - id
    - url
    - filename
    - content_type
    - bytes
    - created_at
    - updated_at
